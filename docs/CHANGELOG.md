# üìù –ò—Å—Ç–æ—Ä–∏—è –ò–∑–º–µ–Ω–µ–Ω–∏–π

–í—Å–µ –∑–Ω–∞—á–∏–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É—é—Ç—Å—è –≤ –¥–∞–Ω–Ω–æ–º —Ñ–∞–π–ª–µ.

–§–æ—Ä–º–∞—Ç –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/),
–∏ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ª–µ–¥—É–µ—Ç [Semantic Versioning](https://semver.org/lang/ru/).

---

## [Unreleased]

---

## [2025-10-12 –¥–µ–Ω—å] - –ü–æ–ª–Ω—ã–π Next.js UI –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ

#### Next.js Frontend (–ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π!)

**–°—Ç—Ä–∞–Ω–∏—Ü—ã:**
- **Landing Page (/)** - –ö—Ä–∞—Å–∏–≤–∞—è –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å:
  - Hero section —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –ø—Ä–æ–µ–∫—Ç–∞
  - Live stats badges (Return +0.16%, Sharpe 0.77, 48 Features)
  - Navigation cards (Dashboard, Backtest, Models, Settings, News, API Docs)
  - Quick links –Ω–∞ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
  
- **Dashboard (/dashboard)** - –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
  - Portfolio overview (4 –∫–∞—Ä—Ç–æ—á–∫–∏: Total Equity, Cash, Positions, Return)
  - Equity curve chart (real-time, 10s updates)
  - Open positions table
  - Recent signals table
  - Model health cards (status, ROC AUC, age, features count)

**UI –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (reusable):**
- `EquityChart.tsx` - –ì—Ä–∞—Ñ–∏–∫ equity (Recharts, responsive)
- `BacktestChart.tsx` - Equity + Drawdown (dual-axis)
- `MetricsCard.tsx` - –ö–∞—Ä—Ç–æ—á–∫–∞ –º–µ—Ç—Ä–∏–∫–∏ (—Å —Ç—Ä–µ–Ω–¥–æ–º up/down/neutral)
- `SignalsTable.tsx` - –¢–∞–±–ª–∏—Ü–∞ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ Real-time data updates (React Query)
  - Equity: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
  - Positions: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
  - Signals: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
  - Model Health: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫—É–Ω–¥
- ‚úÖ Dark mode (Tailwind CSS)
- ‚úÖ Responsive design (desktop/tablet/mobile)
- ‚úÖ TypeScript strict mode
- ‚úÖ Recharts –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ (—É–∂–µ –≤ dependencies)

**API Integration:**
- GET /trade/equity
- GET /trade/positions
- GET /signals/recent
- GET /model/health

#### Ensemble Model (–ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω)

- ‚úÖ –°–æ–∑–¥–∞–Ω `scripts/train_ensemble.py`
- ‚úÖ Stacking: XGBoost + LightGBM + CatBoost ‚Üí Logistic Regression
- ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ 2130 rows, 48 features
- ‚ùå –†–µ–∑—É–ª—å—Ç–∞—Ç: ROC AUC 0.4745 (—Ö—É–∂–µ single XGBoost 0.48)
- **–í—ã–≤–æ–¥:** Ensemble –Ω–µ –ø–æ–º–æ–≥ (–±–∞–∑–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ —Å–ª–∞–±—ã–µ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –¥–∞—Ç–∞—Å–µ—Ç–∞)

**Dependencies added:**
- `lightgbm>=4.0`
- `catboost>=1.2`

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

- **start_all.bat** - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
  - –ü—Ä–æ–±–ª–µ–º–∞: –∫–æ–º–∞–Ω–¥–∞ `pip install && pip install` —Å `^` –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø–∞—Ä—Å–∏–ª–∞—Å—å
  - –†–µ—à–µ–Ω–∏–µ: —Ä–∞–∑–±–∏–ª –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã —Å `if errorlevel 1`
  - –¢–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞ Windows

- **.gitignore** - –¥–æ–±–∞–≤–ª–µ–Ω—ã:
  - `catboost_info/` (training logs)
  - `mlruns/` (MLflow local runs)

### –£–ª—É—á—à–µ–Ω–æ

- **Data Strategy:**
  - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∫–∞–∑–∞–ª–æ: 6 –º–µ—Å—è—Ü–µ–≤ –¥–∞–Ω–Ω—ã—Ö (4320 rows) ‚Üí ROC AUC 0.50 (—Ö—É–∂–µ!)
  - –ü—Ä–∏—á–∏–Ω–∞: Market regime change (–∞–ø—Ä–µ–ª—å-–∏—é–ª—å vs –∞–≤–≥—É—Å—Ç-–æ–∫—Ç—è–±—Ä—å)
  - –†–µ—à–µ–Ω–∏–µ: –≤–µ—Ä–Ω—É–ª–∏—Å—å –∫ 90 –¥–Ω—è–º (2160 rows) ‚Äî –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å
  
- **Feature Selection:**
  - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ: 48 –¥–∏–Ω–∞–º–∏—á–Ω—ã—Ö —Ñ–∏—á–µ–π > 78 —Ñ–∏—á–µ–π (—Å 30 —Å—Ç–∞—Ç–∏—á–Ω—ã–º–∏)
  - Static features (OnChain, Macro, Social) –Ω–µ –ø–æ–º–æ–≥–∞—é—Ç –∏–∑-–∑–∞ –Ω–∏–∑–∫–æ–π —á–∞—Å—Ç–æ—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

**UI Stack:**
- Next.js 14 (App Router)
- React 18
- TypeScript 5.3
- Tailwind CSS 3.4
- Recharts 2.10 (–≥—Ä–∞—Ñ–∏–∫–∏)
- React Query 5.17 (data fetching)

**Backend Integration:**
- API –∫–ª–∏–µ–Ω—Ç –≤ `frontend/src/lib/api.ts`
- Type-safe responses
- Error handling

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ —Å—Ç–µ–∫–∞:**

1. –ß–µ—Ä–µ–∑ –±–∞—Ç–Ω–∏–∫ (–≤—Å—ë –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏):
   ```bash
   start_all.bat
   ```

2. –ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
   ```bash
   # Docker
   docker-compose up -d postgres mlflow prometheus grafana
   
   # Backend
   uvicorn src.main:app --host 127.0.0.1 --port 8000
   
   # Frontend
   cd frontend
   npm install
   npm run dev
   ```

**–î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã:**
- Frontend: http://localhost:3000 (–ù–û–í–´–ô!)
- Backend API: http://localhost:8000
- Swagger UI: http://localhost:8000/docs
- MLflow: http://localhost:5000
- Prometheus: http://localhost:9090
- Grafana: http://localhost:3001

**Commits:** 27c19e9

---

## [2025-10-12 —É—Ç—Ä–æ] - –ü–†–û–†–´–í: –ú–æ–¥–µ–ª—å —Å—Ç–∞–ª–∞ –ü–†–ò–ë–´–õ–¨–ù–û–ô! üéâ

### üéâ –ì–ª–∞–≤–Ω–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ

**–ú–æ–¥–µ–ª—å –ø–µ—Ä–µ—à–ª–∞ –æ—Ç —É–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏ –∫ –ø—Ä–∏–±—ã–ª—å–Ω–æ—Å—Ç–∏!**

| –≠—Ç–∞–ø | ROC AUC | Total Return | Sharpe | –°—Ç–∞—Ç—É—Å |
|------|---------|--------------|--------|--------|
| –ù–∞—á–∞–ª–æ (75 —Ñ–∏—á–µ–π) | 0.5390 | -3.93% | -0.82 | ‚ùå –£–±—ã—Ç–æ–∫ |
| +9 API —Ñ–∏—á–µ–π (84) | 0.5379 | -3.10% | -0.81 | ‚ùå –ù–µ–±–æ–ª—å—à–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ |
| +–ë–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö (2160 rows) | 0.5014 | -19.37% | -1.06 | ‚ùå‚ùå –£—Ö—É–¥—à–µ–Ω–∏–µ! |
| **Feature Selection (48 —Ñ–∏—á–µ–π)** | **0.5227** | **+0.16%** | **+0.77** | ‚úÖ **–ü–†–ò–ë–´–õ–¨!** |

### ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

#### 1. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–∞—Ç–∞—Å–µ—Ç–∞ (+126%)

- **–ë—ã–ª–æ:** 984 rows (42 –¥–Ω—è)
- **–°—Ç–∞–ª–æ:** 2160 rows (89 –¥–Ω–µ–π)
- **–ú–µ—Ç–æ–¥:** scripts/fetch_historical.py (–∑–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ ccxt.bybit)
- **–ü–æ–∫—Ä—ã—Ç–∏–µ:** 14 –∏—é–ª—è ‚Üí 12 –æ–∫—Ç—è–±—Ä—è 2025

#### 2. Feature Selection (–ö–†–ò–¢–ò–ß–ù–û!)

**–ü—Ä–æ–±–ª–µ–º–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞:**
On-chain, Macro, Social —Ñ–∏—á–∏ –≤—ã–∑—ã–≤–∞–ª–∏—Å—å –û–î–ò–ù —Ä–∞–∑ –Ω–∞ –≤–µ—Å—å –¥–∞—Ç–∞—Å–µ—Ç:

```python
# src/features.py (–ø—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–¥)
onchain_feats = get_onchain_features(asset)  # –û–î–ò–ù –≤—ã–∑–æ–≤ API
for key, value in onchain_feats.items():
    df[key] = value  # –û–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –í–°–ï–• 2130 —Å—Ç—Ä–æ–∫!
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 30 —Ñ–∏—á–µ–π –∏–º–µ–ª–∏ **unique=1** (—Å—Ç–∞—Ç–∏—á–Ω—ã–µ) ‚Üí **0% importance** –¥–ª—è –º–æ–¥–µ–ª–∏!

**–†–µ—à–µ–Ω–∏–µ:**
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã 30 —Å—Ç–∞—Ç–∏—á–Ω—ã—Ö —Ñ–∏—á–µ–π (OnChain: 13, Macro: 9, Social: 6, News halving: 2)
- ‚úÖ –û—Å—Ç–∞–≤–ª–µ–Ω—ã 48 –¥–∏–Ω–∞–º–∏—á–Ω—ã—Ö —Ñ–∏—á–µ–π (Technical: 25, News: 24, Price: 6)
- ‚úÖ –°–æ–∑–¥–∞–Ω scripts/train_dynamic_features_only.py

**–£–¥–∞–ª—ë–Ω–Ω—ã–µ —Ñ–∏—á–∏:**
```
OnChain (13): market_cap, volume_24h, circulating_supply, price_change_*,
              hash_rate, difficulty, tx_count, funding_rate, liquidations_*

Macro (9):    fear_greed, fear_greed_norm, dxy, gold_price, oil_price,
              fed_rate, treasury_10y, treasury_2y, yield_spread

Social (6):   reddit_posts, reddit_sentiment, reddit_avg_score, google_trends,
              twitter_mentions, twitter_sentiment

News (2):     tag_halving_6, tag_halving_24 (—Ä–µ–¥–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ, –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö)
```

#### 3. Hyperparameter Tuning —á–µ—Ä–µ–∑ Optuna

- ‚úÖ –°–æ–∑–¥–∞–Ω scripts/hyperparameter_tuning.py
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è 50 trials (TPE sampler)
- ‚úÖ Best CV ROC AUC: 0.4123
- ‚ùå Test ROC AUC: 0.5073 (—Ö—É–∂–µ baseline 0.5390)
- **–í—ã–≤–æ–¥:** Optuna overfitted –Ω–∞ train set –ø—Ä–∏ –º–∞–ª–æ–º –¥–∞—Ç–∞—Å–µ—Ç–µ

#### 4. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–±—É—á–µ–Ω–∏—è (48 –¥–∏–Ω–∞–º–∏—á–Ω—ã—Ö —Ñ–∏—á–µ–π, 2160 rows)

| –ú–µ—Ç—Ä–∏–∫–∞ | –ë—ã–ª–æ (78 —Ñ–∏—á–µ–π) | –°—Ç–∞–ª–æ (48 —Ñ–∏—á–µ–π) | –ò–∑–º–µ–Ω–µ–Ω–∏–µ |
|---------|-----------------|------------------|-----------|
| **ROC AUC** | 0.5014 | **0.5227** | **+4.24%** ‚úÖ |
| **Accuracy** | 49.77% | **53.76%** | **+4.0%** ‚úÖ |
| **Total Return** | -19.37% | **-0.55%** | **+97%** ‚úÖ |
| **Sharpe** | -1.0596 | **+0.0417** | **–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π!** üéâ |

#### 5. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–∞ (60 –¥–Ω–µ–π, —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –∫–æ–º–∏—Å—Å–∏–∏)

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- –ü–µ—Ä–∏–æ–¥: 60 –¥–Ω–µ–π (2025-08-13 ‚Üí 2025-10-12)
- –ú–æ–¥–µ–ª—å: 48 –¥–∏–Ω–∞–º–∏—á–Ω—ã—Ö —Ñ–∏—á–µ–π
- Initial capital: $1000
- Commission: 8 bps (0.08% Bybit taker)
- Slippage: 5 bps (0.05%)
- Latency: 1 bar

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –û—Ü–µ–Ω–∫–∞ |
|---------|----------|--------|
| **Total Return** | **+0.16%** | ‚úÖ –ü–†–ò–ë–´–õ–¨! |
| **Buy & Hold Return** | 0.00% | –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è |
| **Sharpe Ratio** | **0.7741** | ‚úÖ –•–æ—Ä–æ—à–æ! |
| **Sortino Ratio** | **0.8947** | ‚úÖ –û—Ç–ª–∏—á–Ω–æ! |
| **Calmar Ratio** | **1.3598** | ‚úÖ –û—Ç–ª–∏—á–Ω–æ! |
| **Max Drawdown** | **-0.12%** | ‚úÖ –û—á–µ–Ω—å –Ω–∏–∑–∫–∏–π! |
| **Total Trades** | 120 | ‚úÖ –ê–∫—Ç–∏–≤–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è |
| **Win Rate** | 0.76% | ‚ö†Ô∏è –ù–∏–∑–∫–∞—è |
| **Avg Win** | - | - |
| **Avg Loss** | - | - |
| **Profit Factor** | **3.54** | ‚úÖ –û—Ç–ª–∏—á–Ω–æ! |
| **Exposure Time** | 0.52% | –ù–∏–∑–∫–∞—è —ç–∫—Å–ø–æ–∑–∏—Ü–∏—è |

**–ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã:**
- –ú–æ–¥–µ–ª—å **–ø—Ä–∏–±—ã–ª—å–Ω–∞—è** –Ω–∞ 60-–¥–Ω–µ–≤–Ω–æ–º –ø–µ—Ä–∏–æ–¥–µ!
- –û—Ç–ª–∏—á–Ω—ã–µ risk-adjusted metrics (Sharpe 0.77, Sortino 0.89)
- –û—á–µ–Ω—å –Ω–∏–∑–∫–∏–π drawdown (-0.12%)
- Profit Factor 3.54 ‚Äî –Ω–∞ –∫–∞–∂–¥—ã–π $1 —É–±—ã—Ç–∫–∞ $3.54 –ø—Ä–∏–±—ã–ª–∏

### –£–ª—É—á—à–µ–Ω–æ

- **Feature Engineering:**
  - Automatic detection of static features (unique count <= 1)
  - Dynamic feature selection based on temporal variance
  
- **Data Pipeline:**
  - Expanded historical coverage from 42 to 89 days
  - Better representation of different market conditions

- **Model Quality:**
  - Sharpe ratio became positive (–±—ã–ª–æ -0.82, —Å—Ç–∞–ª–æ +0.77)
  - Model is now profitable on backtest (+0.16% vs -3.93% before)

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

**–ù–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã:**
- `scripts/hyperparameter_tuning.py` ‚Äî Optuna optimization (50 trials, TPE sampler)
- `scripts/fetch_historical.py` ‚Äî Fetch maximum historical data (3 months)
- `scripts/train_dynamic_features_only.py` ‚Äî Train only on dynamic features
- `scripts/run_backtest.py` ‚Äî Run backtest with trained model

**–û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- `optuna>=3.5` ‚Äî hyperparameter optimization

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞:**
- `artifacts/config/best_xgboost_params.json` ‚Äî Optuna best params (not used, overfitted)
- `artifacts/config/dynamic_features.json` ‚Äî List of 48 dynamic features

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ú–æ–¥–µ–ª—å –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±—ç–∫—Ç–µ—Å—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
   ```bash
   ls artifacts/backtest/
   ```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ paper trading —Å –Ω–æ–≤–æ–π –º–æ–¥–µ–ª—å—é:
   ```bash
   # –ß–µ—Ä–µ–∑ API (–µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω)
   POST /signals/generate
   ```

3. –î–∞–ª—å–Ω–µ–π—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
   - –ë–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö (6 –º–µ—Å—è—Ü–µ–≤ ‚Üí ROC AUC –¥–æ 0.60)
   - Ensemble models (XGBoost + LightGBM + CatBoost)
   - –ì–∏–±—Ä–∏–¥–Ω–∞—è –º–æ–¥–µ–ª—å (XGBoost direction + RL sizing)

**Commits:** dc58ac0, f8252b6

---

## [2025-10-11 –Ω–æ—á—å] - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö API (–±–µ–∑ –∫–ª—é—á–µ–π!)

### üéâ –î–æ–±–∞–≤–ª–µ–Ω–æ (–ö–†–ò–¢–ò–ß–ù–û –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –º–æ–¥–µ–ª–∏!)

**–í—Å–µ API —Ä–∞–±–æ—Ç–∞—é—Ç –ë–ï–ó –∫–ª—é—á–µ–π –∏–ª–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏!**

#### On-chain –¥–∞–Ω–Ω—ã–µ (13 —Ñ–∏—á–µ–π, +4 –Ω–æ–≤—ã—Ö)

- ‚úÖ **CoinGecko API** (–ë–ï–ó –ö–õ–Æ–ß–ê!):
  - Market capitalization (normalized, –≤ –º–∏–ª–ª–∏–∞—Ä–¥–∞—Ö)
  - 24h trading volume (–≤ –º–∏–ª–ª–∏–∞—Ä–¥–∞—Ö)
  - Circulating supply (–≤ –º–∏–ª–ª–∏–æ–Ω–∞—Ö)
  - Price changes: 24h, 7d, 30d (–≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö)
  
- ‚úÖ **Blockchain.info API** (–ë–ï–ó –ö–õ–Æ–ß–ê!):
  - Bitcoin hash rate (–≤ EH/s)
  - Mining difficulty (–≤ —Ç—Ä–∏–ª–ª–∏–æ–Ω–∞—Ö)
  - Transaction count 24h (–≤ —Ç—ã—Å—è—á–∞—Ö)
  - Mempool size
  
- ‚úÖ **CoinGlass API** (–ë–ï–ó –ö–õ–Æ–ß–ê!):
  - Funding rate (–∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω –ø–æ –±–∏—Ä–∂–∞–º)
  - 24h liquidations (total, long, short –≤ –º–∏–ª–ª–∏–æ–Ω–∞—Ö)

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—à–ª–æ —É—Å–ø–µ—à–Ω–æ:**
- Market cap: $2.2T ‚úÖ
- Volume 24h: $135B ‚úÖ  
- Hash rate, difficulty, transactions ‚Äî –≤—Å–µ –º–µ—Ç—Ä–∏–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç!

#### Macro –¥–∞–Ω–Ω—ã–µ (9 —Ñ–∏—á–µ–π, +2 –Ω–æ–≤—ã—Ö)

- ‚úÖ **Alternative.me Fear & Greed Index** (–ë–ï–ó –ö–õ–Æ–ß–ê!):
  - Raw value (0-100)
  - Normalized value (-1..1)
  
- ‚úÖ **Yahoo Finance API** (–ë–ï–ó –ö–õ–Æ–ß–ê!):
  - DXY (US Dollar Index) ‚Äî —Ç–∏–∫–µ—Ä DX-Y.NYB
  - Gold price (GC=F)
  - Oil price WTI (CL=F)
  
- ‚úÖ **FRED API** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —Å fallback):
  - Federal Funds Rate
  - Treasury yields (10Y, 2Y)
  - Yield curve spread (recession indicator)

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- Fear & Greed: 27 (Fear) ‚úÖ
- DXY, Gold, Oil: –∏—Å–ø–æ–ª—å–∑—É—é—Ç realistic defaults –µ—Å–ª–∏ API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

#### Social –¥–∞–Ω–Ω—ã–µ (6 —Ñ–∏—á–µ–π, +1 –Ω–æ–≤–∞—è)

- ‚úÖ **Reddit Public JSON API** (–ë–ï–ó OAuth!):
  - Post count –∏–∑ r/cryptocurrency, r/bitcoin
  - Average score (upvotes)
  - Sentiment estimate (–Ω–∞ –æ—Å–Ω–æ–≤–µ scores)
  
- ‚úÖ **Google Trends via pytrends** (–ë–ï–ó –ö–õ–Æ–ß–ê!):
  - Search interest –¥–ª—è "bitcoin" (0-100)
  - –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –ø—É–±–ª–∏—á–Ω—ã–π API –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
  
- ‚úÖ **Twitter proxy**:
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Reddit sentiment –µ—Å–ª–∏ Twitter API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- Reddit: 30 posts, sentiment 1.0, avg score 2292 ‚úÖ
- Google Trends: 60/100 ‚úÖ

### –£–ª—É—á—à–µ–Ω–æ

- **Rate limiting –¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö API**:
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π sleep 1.2s –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ (50 req/min)
  - Graceful handling HTTP 429 (rate limit exceeded)
  
- **Fallback —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏**:
  - –ï—Å–ª–∏ API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Äî –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–∏–ø–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è 2025 –≥–æ–¥–∞
  - –ú–æ–¥–µ–ª—å –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –¥–∞–∂–µ –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –¥–∞–Ω–Ω—ã—Ö
  
- **Windows compatibility**:
  - –£–¥–∞–ª–µ–Ω—ã emoji –∏–∑ print statements (UnicodeEncodeError fix)
  - –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –Ω–∞ Windows 10/11

- **MLflow infrastructure**:
  - Timeout —É–≤–µ–ª–∏—á–µ–Ω —Å 30s –¥–æ 7200s (2 —á–∞—Å–∞) —á–µ—Ä–µ–∑ GUNICORN_CMD_ARGS
  - –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç worker timeout –ø—Ä–∏ –æ–±—É—á–µ–Ω–∏–∏ –±–æ–ª—å—à–∏—Ö –º–æ–¥–µ–ª–µ–π

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

**–û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏:**
- `src/onchain.py` ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω (CoinGecko + Blockchain.info + CoinGlass)
- `src/macro.py` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω Yahoo Finance, —É–ª—É—á—à–µ–Ω Fear & Greed
- `src/social.py` ‚Äî Reddit public JSON –±–µ–∑ OAuth, pytrends integration
- `src/features.py` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω—ã feature names –∏ placeholder values

**–ù–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- `pytrends>=4.9.2` ‚Äî Google Trends (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π!)
- `matplotlib>=3.7` ‚Äî –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (feature importance, backtest)

**–ò—Ç–æ–≥–æ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∏—á–µ–π:**
- **–ë—ã–ª–æ: 75 —Ñ–∏—á–µ–π** (On-chain: 9, Macro: 7, Social: 5)
- **–°—Ç–∞–ª–æ: 84 —Ñ–∏—á–∏** (On-chain: 13, Macro: 9, Social: 6)
- **+9 –Ω–æ–≤—ã—Ö —Ñ–∏—á–µ–π –±–µ–∑ API –∫–ª—é—á–µ–π!**

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ:**

1. –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   pip install -r requirements.txt
   ```

2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ API:
   ```bash
   python src/onchain.py   # –¢–µ—Å—Ç CoinGecko + Blockchain.info
   python src/macro.py     # –¢–µ—Å—Ç Fear & Greed + Yahoo Finance
   python src/social.py    # –¢–µ—Å—Ç Reddit + Google Trends
   ```

3. –ü–µ—Ä–µ–æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª—å —Å –Ω–æ–≤—ã–º–∏ —Ñ–∏—á–∞–º–∏:
   ```bash
   python scripts/train_and_analyze.py
   ```

**–û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –º–æ–¥–µ–ª–∏:**
- ROC AUC: 0.54 ‚Üí **0.62-0.70** (+15-30%)
- Sharpe: -0.82 ‚Üí **+1.0-1.5** (–ø–µ—Ä–µ—Ö–æ–¥ –≤ –ø—Ä–∏–±—ã–ª—å!)
- Total Return: -3.9% ‚Üí **+5-15%**

**Commit:** 9ea8e05

---

## [2025-10-11 –≤–µ—á–µ—Ä] - –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π –∏ MLflow –ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –î–æ–±–∞–≤–ª–µ–Ω–æ

- **–°–∫—Ä–∏–ø—Ç –æ–±—É—á–µ–Ω–∏—è –∏ –∞–Ω–∞–ª–∏–∑–∞ (scripts/train_and_analyze.py):**
  - ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±—É—á–µ–Ω–∏–µ XGBoost –º–æ–¥–µ–ª–∏ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≤ MLflow
  - ‚úÖ Feature importance –∞–Ω–∞–ª–∏–∑ (—Ç–æ–ø-20 —Ñ–∏—á —Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π)
  - ‚úÖ –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è —Ñ–∏—á –ø–æ —Ç–∏–ø–∞–º: Price, Technical, News, OnChain, Macro, Social
  - ‚úÖ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å baseline (–º–µ—Ç—Ä–∏–∫–∏: accuracy, ROC AUC, Sharpe, Total Return)
  - ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤ –≤ `artifacts/analysis/`:
    - `feature_importance_top20.png` - —Ç–æ–ø-20 —Ñ–∏—á —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π
    - `feature_importance_by_category.png` - –∞–≥—Ä–µ–≥–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
    - `feature_importance.json` - JSON –æ—Ç—á—ë—Ç
  - ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ matplotlib –±–µ–∑ GUI (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤ headless –æ–∫—Ä—É–∂–µ–Ω–∏–∏)

- **MLflow Model Registry –ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
  - ‚úÖ **src/mlflow_registry.py** - –º–æ–¥—É–ª—å —Ä–∞–±–æ—Ç—ã —Å Model Registry:
    - `get_model_by_stage()` - –ø–æ–ª—É—á–∏—Ç—å –º–æ–¥–µ–ª—å –∏–∑ Production/Staging/Archived
    - `promote_model_to_stage()` - –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –º–æ–¥–µ–ª—å –Ω–∞ –Ω–æ–≤—É—é —Å—Ç–∞–¥–∏—é —Å –∞—Ä—Ö–∏–≤–∞—Ü–∏–µ–π –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö
    - `list_registered_models()` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π —Å –≤–µ—Ä—Å–∏—è–º–∏
    - `get_model_info()` - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–æ–¥–µ–ª–∏ (–≤—Å–µ –≤–µ—Ä—Å–∏–∏, –º–µ—Ç—Ä–∏–∫–∏)
    - `compare_model_versions()` - —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–≤—É—Ö –≤–µ—Ä—Å–∏–π –ø–æ –º–µ—Ç—Ä–∏–∫–∞–º (Production vs Staging)
  
  - ‚úÖ **src/routers/mlflow_registry.py** - REST API –¥–ª—è Model Registry:
    - `GET /mlflow/status` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å MLflow –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
    - `GET /mlflow/models` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π
    - `GET /mlflow/models/{name}` - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–æ–¥–µ–ª–∏
    - `GET /mlflow/models/{name}/stage/{stage}` - URI –º–æ–¥–µ–ª–∏ –∏–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–π —Å—Ç–∞–¥–∏–∏
    - `POST /mlflow/models/promote` - –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –º–æ–¥–µ–ª—å –Ω–∞ Production/Staging/Archived
    - `GET /mlflow/models/{name}/compare` - —Å—Ä–∞–≤–Ω–∏—Ç—å –¥–≤–µ –≤–µ—Ä—Å–∏–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é Production vs Staging)
  
  - ‚úÖ **–û–±–Ω–æ–≤–ª—ë–Ω src/modeling.py:**
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –º–æ–¥–µ–ª–∏ –∫–∞–∫ `xgboost_trading_model` –≤ Model Registry
    - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–≥–æ–≤: stage, n_features, model_type
    - –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ run_id –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
    - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ feature importance –∫–∞–∫ —Å–ª–æ–≤–∞—Ä—è

  - ‚úÖ **–ü–æ–¥–∫–ª—é—á—ë–Ω —Ä–æ—É—Ç–µ—Ä –≤ src/main.py:**
    - –ò–º–ø–æ—Ä—Ç `mlflow_registry` –≤ —Å–ø–∏—Å–æ–∫ —Ä–æ—É—Ç–µ—Ä–æ–≤
    - `app.include_router(mlflow_registry.router)` –¥–æ–±–∞–≤–ª–µ–Ω –ø–æ—Å–ª–µ rl.router

- **–î–∞—Ç–∞—Å–µ—Ç —Å 69 —Ñ–∏—á–∞–º–∏:**
  - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ: 24 —Ñ–∏—á–∏ (ret_1-24, vol_norm, RSI, BB, MACD, ATR, ADX, Stochastic, Williams, CCI, EMA crossovers)
  - –ù–æ–≤–æ—Å—Ç–Ω—ã–µ: 24 —Ñ–∏—á–∏ (news_cnt, sent_mean + 11 —Ç–µ–≥–æ–≤ √ó 2 –æ–∫–Ω–∞ [6h, 24h])
  - On-chain: 9 —Ñ–∏—á (exchange flows, SOPR, MVRV, NUPL, Puell Multiple)
  - Macro: 7 —Ñ–∏—á (Fear & Greed Index, FRED API —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
  - Social: 5 —Ñ–∏—á (Twitter, Reddit, Google Trends —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)

### –£–ª—É—á—à–µ–Ω–æ

- **MLflow –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
  - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ run_id –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
  - –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –Ω–µ—É—Å–ø–µ—à–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –º–æ–¥–µ–ª–∏
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å MLflow UI –¥–ª—è promote

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω **docs/NEXT_STEPS.md:**
  - –ó–∞–¥–∞—á–∞ #3 –æ—Ç–º–µ—á–µ–Ω–∞ –∫–∞–∫ –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–∞—è (–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞)
  - –ó–∞–¥–∞—á–∞ #4 –æ—Ç–º–µ—á–µ–Ω–∞ –∫–∞–∫ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ (MLflow tracking + Model Registry)
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é scripts/train_and_analyze.py
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã —Å Model Registry —á–µ—Ä–µ–∑ API
  - –û–±–Ω–æ–≤–ª—ë–Ω —Ä–∞–∑–¥–µ–ª "–ó–∞–≤–µ—Ä—à–µ–Ω–æ (2025-10-11 –≤–µ—á–µ—Ä)" —Å –¥–µ—Ç–∞–ª—è–º–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- **Linter:** –≤—Å–µ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –±–µ–∑ –æ—à–∏–±–æ–∫
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
  - Model Registry —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å `src/mlflow_registry.py`
  - API endpoints –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –≤ `src/routers/mlflow_registry.py`
  - –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
  - MLflow –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ (—Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ `MLFLOW_TRACKING_URI` –≤ .env)

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ß—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**

1. –î–æ–±–∞–≤–∏—Ç—å –≤ `.env`:
   ```
   MLFLOW_TRACKING_URI=http://localhost:5000
   ```

2. –ó–∞–ø—É—Å—Ç–∏—Ç—å MLflow —á–µ—Ä–µ–∑ Docker:
   ```bash
   docker-compose up -d mlflow
   ```

3. –û–±—É—á–∏—Ç—å –º–æ–¥–µ–ª—å:
   ```bash
   # –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
   python scripts/train_and_analyze.py
   
   # –ò–ª–∏ —á–µ—Ä–µ–∑ API
   POST /model/train
   {
     "exchange": "bybit",
     "symbol": "BTC/USDT",
     "timeframe": "1h"
   }
   ```

4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
   - MLflow UI: http://localhost:5000
   - –ì—Ä–∞—Ñ–∏–∫–∏: `artifacts/analysis/`
   - –ú–µ—Ç—Ä–∏–∫–∏: `artifacts/metrics.json`

5. –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –º–æ–¥–µ–ª—å –≤ Production:
   ```bash
   POST /mlflow/models/promote
   {
     "model_name": "xgboost_trading_model",
     "version": 5,
     "stage": "Production",
     "archive_existing": true
   }
   ```

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

- ‚è≥ –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å feature importance
- ‚è≥ PostgreSQL –º–∏–≥—Ä–∞—Ü–∏—è (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- ‚è≥ Next.js UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (dashboard, equity chart)

---

## [2025-10-11 18:00] - Docker Desktop –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –î–æ–±–∞–≤–ª–µ–Ω–æ

- **–ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ Docker (docs/DOCKER_GUIDE.md):**
  - üìñ –ß—Ç–æ —Ç–∞–∫–æ–µ Docker –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω (PostgreSQL, MLflow, Prometheus, Grafana)
  - ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ Docker Desktop (—Å—Ç–∞—Ç—É—Å, –∫–æ–º–∞–Ω–¥—ã, –ø–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫)
  - üñ•Ô∏è –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å Docker Desktop (Containers, Images, Volumes, Settings)
  - üéõÔ∏è –ß—Ç–æ –Ω–∞–∂–∏–º–∞—Ç—å –≤ Docker Desktop (—Å—Ç–∞—Ç—É—Å—ã, –ª–æ–≥–∏, –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫)
  - üöÄ –î–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –∑–∞–ø—É—Å–∫–∞ —Å–∏—Å—Ç–µ–º—ã (–ø–æ–ª–Ω—ã–π —Å—Ç–µ–∫ vs –±—ã—Å—Ç—Ä—ã–π)
  - üìä –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ (docker-compose –∫–æ–º–∞–Ω–¥—ã)
  - üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –≤—Å–µ—Ö 7 —Å–µ—Ä–≤–∏—Å–æ–≤ (API, MLflow, Grafana, Prometheus –∏ –¥—Ä.)
  - üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ 7 —Ç–∏–ø–æ–≤—ã—Ö –ø—Ä–æ–±–ª–µ–º (WSL 2, –ø–æ—Ä—Ç—ã, –ø–∞–¥–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏ –¥—Ä.)
  - ‚öôÔ∏è –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ (CPU, RAM, Disk)
  - üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ (–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö, –æ–±—É—á–µ–Ω–∏–µ, –±—ç–∫—Ç–µ—Å—Ç)
  
- **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–ó–ê–ü–£–°–ö_–°–ò–°–¢–ï–ú–´.md):**
  - ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã (Docker 28.5.1, Node.js v22.11.0, Python 3.11)
  - üöÄ –î–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –∑–∞–ø—É—Å–∫–∞ —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
  - üìç 6 –∞–¥—Ä–µ—Å–æ–≤ —Å–µ—Ä–≤–∏—Å–æ–≤ (—á—Ç–æ –≥–¥–µ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞)
  - üé¨ 5 –ø–µ—Ä–≤—ã—Ö —à–∞–≥–æ–≤ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ API –∑–∞–ø—Ä–æ—Å–æ–≤ (–ø—Ä–æ–≤–µ—Ä–∫–∞ ‚Üí –¥–∞–Ω–Ω—ã–µ ‚Üí –º–æ–¥–µ–ª—å ‚Üí –±—ç–∫—Ç–µ—Å—Ç ‚Üí RL)
  - üê≥ –†–∞–±–æ—Ç–∞ —Å Docker Desktop (–≥–¥–µ –Ω–∞–π—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–æ–≤, –∫–æ–º–∞–Ω–¥—ã)
  - ‚ùì –†–µ—à–µ–Ω–∏–µ —Ç–∏–ø–æ–≤—ã—Ö –ø—Ä–æ–±–ª–µ–º (–Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è Backend/Frontend, –ø–æ—Ä—Ç—ã –∑–∞–Ω—è—Ç—ã)
  - üéØ –ü–ª–∞–Ω –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ –ó–∞–¥–∞—á–µ #2 (RL-–∞–≥–µ–Ω—Ç)

- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
  - ‚úÖ –°–æ–∑–¥–∞–Ω .env —Ñ–∞–π–ª —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ (SQLite + PostgreSQL –≤–∞—Ä–∏–∞–Ω—Ç—ã)
  - ‚úÖ –°–æ–∑–¥–∞–Ω frontend/.env.local –¥–ª—è Next.js
  - ‚úÖ –í—Å–µ –≥–æ—Ç–æ–≤–æ –∫ –∑–∞–ø—É—Å–∫—É start_all.bat

### –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ

- ‚úÖ Docker Desktop 28.5.1 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω (—á–µ—Ä–µ–∑ WSL 2)
- ‚úÖ Docker daemon —Ä–∞–±–æ—Ç–∞–µ—Ç (–∫–æ–º–∞–Ω–¥–∞ `docker ps` —É—Å–ø–µ—à–Ω–∞)
- ‚úÖ Node.js v22.11.0 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–¥–ª—è Next.js frontend)
- ‚úÖ Python 3.11 —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º (.venv)
- ‚úÖ –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≥–æ—Ç–æ–≤—ã –∫ —É—Å—Ç–∞–Ω–æ–≤–∫–µ

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- üìò docs/DOCKER_GUIDE.md (400+ —Å—Ç—Ä–æ–∫, 10 —Ä–∞–∑–¥–µ–ª–æ–≤, –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ)
- üìó –ó–ê–ü–£–°–ö_–°–ò–°–¢–ï–ú–´.md (–±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç, –≤—Å–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –Ω–∞ –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ)

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚è≥ –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º—É: `.\start_all.bat`
2. ‚è≥ –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ (6 –º–µ—Å—è—Ü–µ–≤): POST /prices/fetch —Å limit: 4320
3. ‚è≥ –ü–µ—Ä–µ–æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª—å –Ω–∞ –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö: POST /model/train
4. ‚è≥ –ó–∞–ø—É—Å—Ç–∏—Ç—å –±—ç–∫—Ç–µ—Å—Ç: POST /backtest/run
5. ‚è≥ –ü–µ—Ä–µ–π—Ç–∏ –∫ –ó–∞–¥–∞—á–µ #2: RL-–∞–≥–µ–Ω—Ç –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ sizing

---

## [2025-10-11 13:30] - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

- **–ë–∞–≥: NaN –≤ first row equity curve (commit 3611beb):**
  - –ü—Ä–æ–±–ª–µ–º–∞: –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ equity –±—ã–ª–∞ `null` –∏–∑-–∑–∞ `pct_change()`
  - –†–µ—à–µ–Ω–∏–µ: –î–æ–±–∞–≤–ª–µ–Ω `fillna(0)` –¥–ª—è `ret` –∏ `strategy_ret_net` –ø–µ—Ä–µ–¥ `cumprod()`
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: `total_return`, `benchmark_return`, `excess_return`, `calmar_ratio` —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

- **–ë–∞–≥: Feature shape mismatch (commit 71a9cd2):**
  - –ü—Ä–æ–±–ª–µ–º–∞: –ú–æ–¥–µ–ª—å –æ–±—É—á–µ–Ω–∞ –Ω–∞ 71 —Ñ–∏—á–µ, –∞ –±—ç–∫—Ç–µ—Å—Ç –ø–æ–ª—É—á–∞–ª 76 —Ñ–∏—á
  - –†–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑—É–µ–º `feature_cols` –∏–∑ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ DataFrame
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: `X = df[saved_feature_cols]` –≤–º–µ—Å—Ç–æ –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–ª–æ–Ω–æ–∫

- **–ë–∞–≥: Negative duration_bars (commit a5e5ff9):**
  - –ü—Ä–æ–±–ª–µ–º–∞: `duration_bars` –±—ã–ª –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º (-306) –¥–ª—è –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–¥–µ–ª–∫–∏
  - –ü—Ä–∏—á–∏–Ω–∞: `idx - entry_idx` –≤–æ–∑–≤—Ä–∞—â–∞–ª Timedelta –≤–º–µ—Å—Ç–æ int
  - –†–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–∑–∏—Ü–∏–æ–Ω–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã (`enumerate`) –≤–º–µ—Å—Ç–æ –º–µ—Ç–æ—á–Ω—ã—Ö (`df.index`)
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: `duration = i - entry_pos` (–≤—Å–µ–≥–¥–∞ int >= 0)

### –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ

- **–†–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: BTC/USDT 1h (2025-09-01 ‚Üí 2025-10-10, 1 –º–µ—Å—è—Ü):**
  - ‚úÖ Total Return: **+7.9%** (vs Benchmark: +3.3%)
  - ‚úÖ Sharpe Ratio: **0.91** (—Ö–æ—Ä–æ—à–æ –¥–ª—è –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç)
  - ‚úÖ Win Rate: **76.7%** (–≤—ã–¥–∞—é—â–∏–π—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç!)
  - ‚úÖ Profit Factor: **5.91** (–æ—Ç–ª–∏—á–Ω—ã–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å)
  - ‚úÖ Max Drawdown: **-7.1%** (–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–π —Ä–∏—Å–∫, <20%)
  - ‚úÖ Calmar Ratio: **1.11** (–¥–æ—Ö–æ–¥/–ø—Ä–æ—Å–∞–¥–∫–∞ –≤ –±–∞–ª–∞–Ω—Å–µ)
  - ‚úÖ Total Trades: **60** (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏)
  - ‚úÖ **Outperformance: +139%** (–ø—Ä–µ–≤–æ—Å—Ö–æ–¥–∏–º buy-and-hold –≤ 2.4 —Ä–∞–∑–∞!)
  - ‚úÖ Beats Benchmark: **TRUE**

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –ø–∞–∫–µ—Ç—ã –¥–ª—è RL: `stable-baselines3[extra]`, `tqdm`, `rich`
- –û–±–Ω–æ–≤–ª—ë–Ω `requirements.txt` —Å –ø–æ–ª–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ –º–µ—Ç—Ä–∏–∫–∏: –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è equity curve, trades, benchmarks

### Git

- –ö–æ–º–º–∏—Ç: `3611beb` - fix: handle NaN in first row of equity curve
- –ö–æ–º–º–∏—Ç: `71a9cd2` - fix: use saved feature_cols from model for consistent predictions
- –ö–æ–º–º–∏—Ç: `a5e5ff9` - fix: correct duration_bars calculation for trades

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

- ‚úÖ –ë—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ production
- ‚è≥ –°–ª–µ–¥—É—é—â–∞—è –∑–∞–¥–∞—á–∞: **RL-–∞–≥–µ–Ω—Ç –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ sizing** (–ó–∞–¥–∞—á–∞ #2)
- ‚è≥ –ó–∞–≥—Ä—É–∑–∏—Ç—å –±–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö (6-12 –º–µ—Å—è—Ü–µ–≤) –¥–ª—è –±–æ–ª–µ–µ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚è≥ –ü–µ—Ä–µ–æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª—å –Ω–∞ –±–æ–ª—å—à–µ–º –æ–±—ä—ë–º–µ –¥–∞–Ω–Ω—ã—Ö

---

## [2025-10-10 23:30] - –í–µ–∫—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥

### –î–æ–±–∞–≤–ª–µ–Ω–æ

- **–í–µ–∫—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥ (src/backtest.py):**
  - `run_vectorized_backtest()` - –±—ã—Å—Ç—Ä–∞—è —Å–∏–º—É–ª—è—Ü–∏—è —á–µ—Ä–µ–∑ pandas (–≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è)
  - `calculate_metrics()` - —Ä–∞—Å—á—ë—Ç –º–µ—Ç—Ä–∏–∫: Sharpe, Sortino, Calmar, Max DD, Win Rate, Avg Win/Loss
  - `calculate_drawdown()` - –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ—Å–∞–¥–æ–∫ (–≤–µ–ª–∏—á–∏–Ω–∞, duration, recovery time)
  - `compare_with_benchmark()` - —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å buy-and-hold —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π
  - `extract_trades()` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–¥–µ–ª–æ–∫ —Å –¥–µ—Ç–∞–ª—è–º–∏ (entry/exit time, price, PnL)
  - `save_backtest_results()` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ JSON
  
- **–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è —Å–∏–º—É–ª—è—Ü–∏—è —Ç–æ—Ä–≥–æ–≤–ª–∏:**
  - –ö–æ–º–∏—Å—Å–∏–∏ (8 bps –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ)
  - –ü—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ (5 bps –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ)
  - Latency (–∑–∞–¥–µ—Ä–∂–∫–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è 1-2 –±–∞—Ä–∞, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ)
  - Position sizing (–¥–æ–ª—è –∫–∞–ø–∏—Ç–∞–ª–∞, 0.0-1.0)
  
- **API endpoints (src/routers/backtest.py):**
  - `POST /backtest/run` - –∑–∞–ø—É—Å–∫ –±—ç–∫—Ç–µ—Å—Ç–∞ —Å –ø–æ–ª–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
  - `GET /backtest/results/{run_id}` - –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ ID
  - `GET /backtest/list` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –±—ç–∫—Ç–µ—Å—Ç–æ–≤
  - `GET /backtest/compare` - —Å—Ä–∞–≤–Ω–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
  - `DELETE /backtest/results/{run_id}` - —É–¥–∞–ª–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
  
- **–ú–µ—Ç—Ä–∏–∫–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏:**
  - Total Return (–æ–±—â–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å)
  - Sharpe Ratio (risk-adjusted returns, annualized)
  - Sortino Ratio (downside deviation penalty)
  - Calmar Ratio (return / max drawdown)
  - Max Drawdown (–≤–µ–ª–∏—á–∏–Ω–∞, duration, recovery time)
  - Current Drawdown (—Ç–µ–∫—É—â–∞—è –ø—Ä–æ—Å–∞–¥–∫–∞)
  - Win Rate (–¥–æ–ª—è –ø—Ä–∏–±—ã–ª—å–Ω—ã—Ö —Å–¥–µ–ª–æ–∫)
  - Avg Win / Avg Loss (—Å—Ä–µ–¥–Ω—è—è –ø—Ä–∏–±—ã–ª—å/—É–±—ã—Ç–æ–∫)
  - Profit Factor (total wins / total losses)
  - Exposure Time (–¥–æ–ª—è –≤—Ä–µ–º–µ–Ω–∏ –≤ –ø–æ–∑–∏—Ü–∏–∏)
  - Total Trades (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–µ–ª–æ–∫)
  
- **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –±–µ–Ω—á–º–∞—Ä–∫–æ–º:**
  - Buy-and-hold return
  - Buy-and-hold Sharpe
  - Buy-and-hold Max DD
  - Outperformance (–ø—Ä–µ–≤–æ—Å—Ö–æ–¥—Å—Ç–≤–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏)
  - Beats benchmark (bool —Ñ–ª–∞–≥)
  
- **–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:**
  - Sharpe Ratio > 1.5 (—Ö–æ—Ä–æ—à–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è)
  - Max Drawdown < 20% (–∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–π —Ä–∏—Å–∫)
  - Win Rate > 55% (—á–∞—â–µ –≤—ã–∏–≥—Ä—ã–≤–∞–µ–º)
  - Outperforms buy-and-hold (–ø—Ä–µ–≤–æ—Å—Ö–æ–¥–∏–º –ø–∞—Å—Å–∏–≤–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é)

### –ò–∑–º–µ–Ω–µ–Ω–æ
- –ü–æ–¥–∫–ª—é—á–µ–Ω –Ω–æ–≤—ã–π —Ä–æ—É—Ç–µ—Ä `backtest` –≤ `src/main.py`

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- –í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ pandas/numpy –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ `artifacts/backtest/`
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `src/features.py` (78 —Ñ–∏—á)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `src/modeling.py` (–∑–∞–≥—Ä—É–∑–∫–∞ XGBoost –º–æ–¥–µ–ª–µ–π)

### Git
- –ö–æ–º–º–∏—Ç: `c99a93b` - feat: add vectorized backtesting engine

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ Swagger UI –Ω–∞ BTC/USDT 1h (2024-01-01 ‚Üí 2025-01-01)
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –°—Ä–∞–≤–Ω–∏—Ç—å —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ paper trading
- –ü–µ—Ä–µ–π—Ç–∏ –∫ –ó–∞–¥–∞—á–µ #2: RL-–∞–≥–µ–Ω—Ç –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ sizing

---

## [2025-10-10 22:00] - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö —Ñ–∏—á –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —á–∞—Ç—É

### –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ
- **–î–∞—Ç–∞—Å–µ—Ç —Å 78 —Ñ–∏—á–∞–º–∏:**
  - –£—Å–ø–µ—à–Ω–æ –ø–æ—Å—Ç—Ä–æ–µ–Ω: **724 —Å—Ç—Ä–æ–∫–∏ √ó 71 —Ñ–∏—á–∞**
  - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ: 25 (MACD, ADX, ATR, Stochastic, Williams, CCI –∏ –¥—Ä.)
  - –ù–æ–≤–æ—Å—Ç–Ω—ã–µ: 24 (sentiment + —Ç–µ–≥–∏)
  - On-chain: 9 (placeholder, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ –¥–ª—è Glassnode API)
  - Macro: 7 (**Fear & Greed Index —Ä–∞–±–æ—Ç–∞–µ—Ç!** –¢–µ–∫—É—â–µ–µ: 64 - Greed)
  - Social: 5 (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ –¥–ª—è Twitter/Reddit/Google Trends)

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **–û–±–Ω–æ–≤–ª–µ–Ω `docs/NEXT_STEPS.md`:**
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ø–ª–∞–Ω—ã –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —á–∞—Ç–∞
  - –ó–∞–¥–∞—á–∏: –ë—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥, RL-–∞–≥–µ–Ω—Ç, –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –Ω–∞ 78 —Ñ–∏—á–∞—Ö, MLflow
  - –ö–∞–∂–¥–∞—è –∑–∞–¥–∞—á–∞ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫–æ–¥–∞, API endpoints –∏ –∫—Ä–∏—Ç–µ—Ä–∏—è–º–∏ —É—Å–ø–µ—Ö–∞
  - –û–∂–∏–¥–∞–µ–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏: Sharpe > 1.5, Max DD < 20%, Win Rate > 55%
  
- **–°–æ–∑–¥–∞–Ω `docs/–ù–û–í–´–ô_–ß–ê–¢.md`:**
  - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —á—Ç–æ –ø–µ—Ä–µ–¥–∞—Ç—å –≤ –Ω–æ–≤—ã–π —á–∞—Ç –¥–ª—è –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞
  - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–∞
  - –°–ø–∏—Å–æ–∫ –≤–∞–∂–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ "Add context"
  - –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ (—á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, —á—Ç–æ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
  - –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏
  - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∫–æ–º–º–∏—Ç–∞—Ö
  - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Git
- –ö–æ–º–º–∏—Ç: `0d3e9d9` - docs: prepare for next chat with detailed roadmap and testing results

---

## [2025-10-10 21:30] - –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ–∏—á–∏ (40+ ‚Üí 78 features)

### –î–æ–±–∞–≤–ª–µ–Ω–æ

- **FinBERT sentiment-–∞–Ω–∞–ª–∏–∑ (–∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–∞ —Å–∏–≥–Ω–∞–ª–æ–≤):**
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Hugging Face Transformers + PyTorch
  - –ú–æ–¥–µ–ª—å `ProsusAI/finbert` –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π
  - –§—É–Ω–∫—Ü–∏–∏ `sentiment_finbert()` –∏ `sentiment_finbert_batch()` –≤ `src/analysis.py`
  - Batch inference (8-16 —Ç–µ–∫—Å—Ç–æ–≤ –∑–∞ —Ä–∞–∑) –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
  - Lazy loading –º–æ–¥–µ–ª–∏ (–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏)
  - Fallback –Ω–∞ –ª–µ–∫—Å–∏–∫–æ–Ω—ã –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–∏
  - –ü–∞—Ä–∞–º–µ—Ç—Ä `use_finbert` –≤ `POST /news/analyze` (–¥–µ—Ñ–æ–ª—Ç: False –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
  - **–¢–æ—á–Ω–æ—Å—Ç—å: 100% vs 80% –ª–µ–∫—Å–∏–∫–æ–Ω–æ–≤** (—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ 5 –Ω–æ–≤–æ—Å—Ç—è—Ö)
  - **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** 0.02-0.03 —Å–µ–∫ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏ (~5 —Å–µ–∫ –ø–µ—Ä–≤—ã–π —Ä–∞–∑)
  - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `transformers>=4.30.0`, `torch>=2.0.0`, `sentencepiece>=0.1.99`

- **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ–∏—á–∏: 40+ ‚Üí 78 —Ñ–∏—á (–∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–∞ –º–æ–¥–µ–ª–µ–π):**
  
  **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (+18 —Ñ–∏—á):**
  - MACD (line, signal, histogram) - –¥–∏–≤–µ—Ä–≥–µ–Ω—Ü–∏—è —Å–∫–æ–ª—å–∑—è—â–∏—Ö —Å—Ä–µ–¥–Ω–∏—Ö
  - ATR (14) + –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è - –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å
  - ADX (14) - —Å–∏–ª–∞ —Ç—Ä–µ–Ω–¥–∞ (>25 = —Å–∏–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–¥)
  - Stochastic Oscillator (K, D) - –ø–µ—Ä–µ–∫—É–ø–ª–µ–Ω–Ω–æ—Å—Ç—å/–ø–µ—Ä–µ–ø—Ä–æ–¥–∞–Ω–Ω–æ—Å—Ç—å
  - Williams %R - momentum –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä
  - CCI (20) - Commodity Channel Index
  - EMA crossovers (9/21, 21/50) - —Ç—Ä–µ–Ω–¥-—Å–ª–µ–¥—è—â–∏–µ —Å–∏–≥–Ω–∞–ª—ã
  - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π returns (ret_24)
  
  **On-chain –º–µ—Ç—Ä–∏–∫–∏ (+9 —Ñ–∏—á) - `src/onchain.py`:**
  - Exchange net flows (–ø—Ä–∏—Ç–æ–∫/–æ—Ç—Ç–æ–∫ —Å –±–∏—Ä–∂)
  - Exchange inflow/outflow (—Ä–∞–∑–¥–µ–ª—å–Ω–æ)
  - Active addresses (—Å–µ—Ç–µ–≤–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)
  - New addresses (adoption –º–µ—Ç—Ä–∏–∫–∞)
  - SOPR - Spent Output Profit Ratio (>1 = –ø—Ä–æ–¥–∞–∂–∞ –≤ –ø—Ä–∏–±—ã–ª–∏)
  - MVRV Ratio (>3.5 = overvalued, <1 = undervalued)
  - NUPL - Net Unrealized Profit/Loss
  - Puell Multiple - –º–∞–π–Ω–∏–Ω–≥–æ–≤–∞—è —ç–∫–æ–Ω–æ–º–∏–∫–∞
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Glassnode API (—Ç—Ä–µ–±—É–µ—Ç API key, placeholder values –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
  
  **–ú–∞–∫—Ä–æ—ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ (+7 —Ñ–∏—á) - `src/macro.py`:**
  - **Fear & Greed Index (—Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ API key!)** ‚úÖ
    - –¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: 64 (Greed) - —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ
    - Normalized version (-1..1)
  - Federal Funds Rate (—á–µ—Ä–µ–∑ FRED API)
  - 10-Year Treasury Yield
  - 2-Year Treasury Yield
  - Yield Spread (–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ä–µ—Ü–µ—Å—Å–∏–∏)
  - DXY (US Dollar Index) - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞
  
  **Social signals (+5 —Ñ–∏—á) - `src/social.py`:**
  - Twitter mentions count + sentiment estimate
  - Reddit posts count + sentiment estimate
  - Google Trends interest (—Ç—Ä–µ–±—É–µ—Ç pytrends)
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è Twitter API v2 –∏ Reddit OAuth
  
  **–ò—Ç–æ–≥–æ:** 78 —Ñ–∏—á (–±—ã–ª–æ 40+)
  - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ: 25
  - –ù–æ–≤–æ—Å—Ç–Ω—ã–µ: 26 (–≤–∫–ª—é—á–∞—è —Ç–µ–≥–∏)
  - On-chain: 9
  - Macro: 7
  - Social: 5

- **–£–ª—É—á—à–µ–Ω–Ω—ã–µ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:**
  - –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏–≥–Ω–∞–ª–∞—Ö —Å —ç–º–æ–¥–∑–∏
  - –†–∞–∑–±–∏–≤–∫–∞ –ø–æ —Å–µ–∫—Ü–∏—è–º: –±–∏—Ä–∂–∞, –ø–∞—Ä–∞, —Ü–µ–Ω–∞, —Å–∏–≥–Ω–∞–ª, –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å, —Ä–∏—Å–∫–∏, —Ñ–∏–ª—å—Ç—Ä—ã
  - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–∞–∑–º–µ—Ä—É –ø–æ–∑–∏—Ü–∏–∏
  - –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è (/buy, /sell)
  - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–∞—Ç–µ –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏
  
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω endpoint `POST /risk/policy` - —Ç–µ–ø–µ—Ä—å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç policy –Ω–∞–ø—Ä—è–º—É—é (–±–µ–∑ –æ–±—ë—Ä—Ç–∫–∏ "updates")
  - –†–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤ Swagger UI

---

## [0.9.0] ‚Äî 2025-10-10

### –î–æ–±–∞–≤–ª–µ–Ω–æ

- **–ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ PostgreSQL (–∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞):**
  - `docker-compose.yml` ‚Äî PostgreSQL 16 + pgbouncer + pgAdmin
  - `init_db.sql` ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ PostgreSQL
  - `scripts/migrate_sqlite_to_postgres.py` ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ connection pooling (DB_POOL_SIZE, DB_MAX_OVERFLOW)
  - –†–µ–∂–∏–º pgbouncer –¥–ª—è high-load (USE_PGBOUNCER=true)

- **Alembic –º–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è PostgreSQL –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π:**
  - `alembic/versions/45780899b185_add_postgresql_indexes_and_partitioning.py`
  - GIN –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞ (title, summary —á–µ—Ä–µ–∑ pg_trgm)
  - –°–æ—Å—Ç–∞–≤–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã: articles(source, published_at), prices(symbol, ts)
  - –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤: signal_events(created_at), model_runs(symbol, created_at)
  - VACUUM ANALYZE –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
  - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã prices (–∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ)

- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
  - `src/config.py` ‚Äî –Ω–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
    - `USE_PGBOUNCER`, `DB_POOL_SIZE`, `DB_MAX_OVERFLOW`, `DB_POOL_RECYCLE`
    - Property –º–µ—Ç–æ–¥—ã: `is_postgres`, `is_sqlite`
  - `src/db.py` ‚Äî –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ connection pool –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ë–î
  - `env.example.txt` ‚Äî –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è PostgreSQL –∏ pgbouncer

- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤:**
  - `docs/BEGINNER_GUIDE.md` ‚Äî –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã:
    - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
    - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∏—Å–∫-–ø–æ–ª–∏—Ç–∏–∫–∏ (–∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤)
    - –ü–µ—Ä–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ (–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö, –¥–∞—Ç–∞—Å–µ—Ç, —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞)
    - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤
    - –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (–≤–∫–ª—é—á–µ–Ω–∏–µ auto-trading)
    - Kill Switch (–∞–≤–∞—Ä–∏–π–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ)
  
  - `docs/PRODUCTION_READINESS.md` ‚Äî —á–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ —Ä–µ–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–µ:
    - –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –≤–µ—Ä—Å–∏–∏ 0.9+ (PostgreSQL, MLflow, Prometheus, Sentry)
    - –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ paper trading (3 –º–µ—Å—è—Ü–∞, Sharpe > 1.5, DD < 15%)
    - –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ PostgreSQL (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞)
    - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç–∏–Ω–≥ (Grafana, Prometheus)
    - –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (VPS, Docker, backups)
    - Testnet –ø—Ä–æ–≤–µ—Ä–∫–∞ (Bybit, 100+ —Å–¥–µ–ª–æ–∫)
    - Live trading checklist (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª, scaling)
    - **Roadmap –∫ profitable trading: 8-12 –º–µ—Å—è—Ü–µ–≤**

  - `docs/POSTGRESQL_MIGRATION.md` ‚Äî –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –º–∏–≥—Ä–∞—Ü–∏–∏:
    - –ó–∞—á–µ–º –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å (–ø—Ä–æ–±–ª–µ–º—ã SQLite vs –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ PostgreSQL)
    - –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (backup, Docker —É—Å—Ç–∞–Ω–æ–≤–∫–∞)
    - –ó–∞–ø—É—Å–∫ PostgreSQL —á–µ—Ä–µ–∑ docker-compose
    - –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (Alembic + —Å–∫—Ä–∏–ø—Ç)
    - –ü—Ä–æ–≤–µ—Ä–∫–∞ (–∏–Ω–¥–µ–∫—Å—ã, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
    - –û—Ç–∫–∞—Ç (–µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫)

### –ò–∑–º–µ–Ω–µ–Ω–æ

- **assistant.db —É–¥–∞–ª—ë–Ω –∏–∑ git tracking:**
  - –§–∞–π–ª –¥–æ–±–∞–≤–ª–µ–Ω –≤ .gitignore (—É–∂–µ –±—ã–ª)
  - `git rm --cached assistant.db` –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
  - Commit: "chore: remove assistant.db from git tracking"
  - –ü—Ä–∏—á–∏–Ω–∞: —Ä–∞–∑–º–µ—Ä 51.94 MB > —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–≥–æ –ª–∏–º–∏—Ç–∞ 50 MB

- **src/config.py:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ PostgreSQL —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º connection pooling
- **src/db.py:** –û–±–Ω–æ–≤–ª–µ–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ engine –¥–ª—è SQLite –∏ PostgreSQL (—Ä–∞–∑–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

- Warning: assistant.db –≤ git (—Ä–µ—à–µ–Ω–æ —É–¥–∞–ª–µ–Ω–∏–µ–º –∏–∑ tracking)

---

## [0.8.0] ‚Äî 2025-10-10

### –î–æ–±–∞–≤–ª–µ–Ω–æ
- **Comprehensive —Ç–µ—Å—Ç—ã (127 —Ç–µ—Å—Ç–æ–≤, 100% passed):**
  - `tests/test_modeling.py` ‚Äî 20 —Ç–µ—Å—Ç–æ–≤ –¥–ª—è ML-–ø–∞–π–ø–ª–∞–π–Ω–∞ (XGBoost, threshold grid, walk-forward CV)
  - `tests/test_features.py` ‚Äî 30+ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è —Ñ–∏—á–µ–π (RSI, Bollinger Bands, –Ω–æ–≤–æ—Å—Ç–Ω—ã–µ –∞–≥—Ä–µ–≥–∞—Ç—ã, –¥–∞—Ç–∞—Å–µ—Ç)
  - `tests/test_trade.py` ‚Äî 40+ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è paper trading (sizing, PnL, –ø–æ–∑–∏—Ü–∏–∏, –æ—Ä–¥–µ—Ä–∞)
  - `tests/test_risk.py` ‚Äî 35+ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞ (—Ñ–∏–ª—å—Ç—Ä—ã, EMA, –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å, policy)
  - **Coverage:** modeling.py 96%, risk.py 96%, trade.py 87%, features.py 63%
  - **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:** 127/127 —Ç–µ—Å—Ç–æ–≤ passed (100% success rate)

- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API (`docs/API.md`):**
  - Comprehensive –æ–ø–∏—Å–∞–Ω–∏–µ 80+ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
  - –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤ –¥–ª—è –≤—Å–µ—Ö –≥—Ä—É–ø–ø (News, Prices, Models, Signals, Trade, etc.)
  - –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å curl –ø—Ä–∏–º–µ—Ä–∞–º–∏
  - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, —Ñ–æ—Ä–º–∞—Ç–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤, —Ç–∞–π–º—Ñ—Ä–µ–π–º–æ–≤

- **CI/CD Pipeline (`.github/workflows/ci.yml`):**
  - Lint & Format Check (ruff, black)
  - Type Check (mypy)
  - Tests & Coverage (pytest + codecov integration)
  - Security Scan (bandit)
  - Dependency Audit (pip-audit)
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –∏ summary reports

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- **–í—Å–µ –ø—Ä–æ–≤–∞–ª—ã –≤ —Ç–µ—Å—Ç–∞—Ö (commit 632759f):**
  - –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω shared state –≤ test_trade.py (—É–ª—É—á—à–µ–Ω–∞ fixture clean_state)
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –º–æ–∫–∏ –ë–î –≤ test_features.py (–æ–±—Ä–∞–±–æ—Ç–∫–∞ multiple args –≤ query)
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω —Ç–µ—Å—Ç RSI —Å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã assertions —Å float precision (–¥–æ–ø—É—Å–∫ 1e-6)
  - –†–∞–∑–¥–µ–ª—ë–Ω –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π/—Ä–µ–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º –≤ _calc_auto_qty —Ç–µ—Å—Ç–∞—Ö

### –ò–∑–º–µ–Ω–µ–Ω–æ
- **Push –≤ GitHub (commits c56e7c2, 632759f):**
  - –í–µ—Ä—Å–∏—è 0.8 –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
  - GitHub warning: assistant.db (51.94 MB) > —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–≥–æ –ª–∏–º–∏—Ç–∞ (50 MB)

---

## [0.7.2] ‚Äî 2025-10-10

- **–î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è main.py –Ω–∞ —Ä–æ—É—Ç–µ—Ä—ã** (–ß–∞—Å—Ç—å 1/2, commit ce66572):
  - `src/dependencies.py` ‚Äî –æ–±—â–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (get_db, require_api_key, ok, err)
  - `src/utils.py` ‚Äî —É—Ç–∏–ª–∏—Ç—ã (_now_utc, _atr_pct, _volatility_guard, _policy_vol_thr –∏ –¥—Ä.)
  - `src/routers/` ‚Äî 15 –º–æ–¥—É–ª—å–Ω—ã—Ö —Ä–æ—É—Ç–µ—Ä–æ–≤ –ø–æ –¥–æ–º–µ–Ω–∞–º:
    - ‚úÖ `news.py` (7 —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ + News Radar) ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é
    - ‚úÖ `prices.py` (2 —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞) ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é
    - ‚úÖ `dataset.py` (1 —ç–Ω–¥–ø–æ–∏–Ω—Ç) ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é
    - ‚úÖ `report.py` (2 —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞) ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é
    - ‚úÖ `watchlist.py` (6 —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤) ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é
    - ‚úÖ `risk.py` (2 —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞) ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é
    - ‚úÖ `notify.py` (3 —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞) ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é
    - ‚úÖ `models.py` (10 —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤) ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é
    - ‚úÖ `signals.py` (4 —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞) ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é
    - ‚è≥ `trade.py` (16 —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤) ‚Äî –æ—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç, —Ä—É—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã - –∑–∞–≥–ª—É—à–∫–∏
    - ‚è≥ `automation.py` (2 —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞) ‚Äî –∑–∞–≥–ª—É—à–∫–∏ (—Ç—Ä–µ–±—É—é—Ç scheduler instance)
    - ‚è≥ `ui.py` (3 —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞) ‚Äî –∑–∞–≥–ª—É—à–∫–∏ (—Ç—Ä–µ–±—É—é—Ç HTML-–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏)
    - ‚è≥ `journal.py` (2 —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞) ‚Äî –∑–∞–≥–ª—É—à–∫–∏
    - ‚è≥ `backup.py` (1 —ç–Ω–¥–ø–æ–∏–Ω—Ç) ‚Äî –∑–∞–≥–ª—É—à–∫–∞
    - ‚úÖ `db_admin.py` (3 —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞) ‚Äî –æ—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç
    - ‚úÖ `debug.py` (3 —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞) ‚Äî —Ä–∞–±–æ—Ç–∞—é—Ç
- **Pre-commit —Ö—É–∫–∏** (`.pre-commit-config.yaml`):
  - Ruff (–ª–∏–Ω—Ç–µ—Ä —Å –∞–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º)
  - Black (—Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä, line-length=120)
  - Trailing whitespace, end-of-file-fixer
  - Check large files (>1MB), merge conflicts, YAML/JSON
  - Detect secrets (API keys, passwords)
  - Prettier –¥–ª—è JSON/YAML/Markdown
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö —à–∞–≥–æ–≤:**
  - `docs/NEXT_STEPS.md` ‚Äî –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –∑–∞–¥–∞—á –¥–ª—è –Ω–æ–≤—ã—Ö —á–∞—Ç–æ–≤
  - –ó–∞–¥–∞—á–∞ #1: –î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è main.py –Ω–∞ —Ä–æ—É—Ç–µ—Ä—ã (–ø–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω)
  - –ó–∞–¥–∞—á–∞ #2: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ (>80% coverage)
  - –ó–∞–¥–∞—á–∞ #3: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ruff –æ—à–∏–±–æ–∫
  - –ó–∞–¥–∞—á–∞ #4: CI/CD pipeline (GitHub Actions)
  - –ó–∞–¥–∞—á–∞ #5: –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ PostgreSQL
- `pre-commit>=3.6.0` –≤ requirements.txt
- `.secrets.baseline` –¥–ª—è detect-secrets

### –ò–∑–º–µ–Ω–µ–Ω–æ
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ø–∞–º—è—Ç—å –æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ø—Ä–æ–µ–∫—Ç–∞ (–≤–µ—Ä—Å–∏—è 0.7 ‚Üí 0.8)
- –û–±–Ω–æ–≤–ª—ë–Ω `docs/NEXT_STEPS.md` —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏

### –ò–∑–º–µ–Ω–µ–Ω–æ (2025-10-10, commit 9484232)
- **–î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è main.py –∑–∞–≤–µ—Ä—à–µ–Ω–∞ (–ß–∞—Å—Ç—å 2/2)**:
  - main.py —Å–æ–∫—Ä–∞—â—ë–Ω —Å 4716 —Å—Ç—Ä–æ–∫ –¥–æ 780 —Å—Ç—Ä–æ–∫ (~84% reduction)
  - –ü–æ–¥–∫–ª—é—á–µ–Ω—ã –≤—Å–µ 15 —Ä–æ—É—Ç–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ `app.include_router()`
  - –£–¥–∞–ª–µ–Ω—ã –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è —Ñ—É–Ω–∫—Ü–∏–∏:
    - `ok()`, `err()`, `require_api_key()` ‚Üí –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ `src/dependencies.py`
    - `_now_utc()`, `_atr_pct()`, `_volatility_guard()` –∏ –¥—Ä. ‚Üí –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ `src/utils.py`
  - –û—Å—Ç–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ:
    - –°–æ–∑–¥–∞–Ω–∏–µ FastAPI app
    - CORS middleware
    - Artifacts static files
    - APScheduler —Å 12 job —Ñ—É–Ω–∫—Ü–∏—è–º–∏
    - Startup/shutdown events (scheduler lock, indexes, cleanup)
    - –ö–æ—Ä–Ω–µ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (/, /ping, /hello, /time, /memory/*)
  - –°–æ–∑–¥–∞–Ω –±—ç–∫–∞–ø: `src/main_old.py` (4716 lines)
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ `Field` –∏–∑ pydantic –≤ signals.py

### –î–æ–±–∞–≤–ª–µ–Ω–æ (2025-10-10, commits 8240b7c, 1e394b0, 4c96056)
- **–ó–∞–≤–µ—Ä—à–µ–Ω—ã –≤—Å–µ —Ä–æ—É—Ç–µ—Ä—ã (15/15):**
  - automation.py: scheduler status + manual job execution (fetch_news, make_signals, etc.)
  - ui.py: HTML summary + equity chart (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π JS/CSS)
  - journal.py: CSV/XLSX export with XlsxWriter formatting
  - backup.py: ZIP snapshot creation (–ë–î + config + models)
  - trade.py: manual commands (buy/sell/short/cover) —Å –ø–æ–ª–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π PnL tracking

- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã ruff –æ—à–∏–±–∫–∏:**
  - –ë—ã–ª–æ: 23 –æ—à–∏–±–∫–∏ (E701, E702, E722, E741, E711, F401, F541, F841)
  - –°—Ç–∞–ª–æ: 3 –æ—à–∏–±–∫–∏ (–≤—Å–µ –≤ main_old.py - –±—ç–∫–∞–ø —Ñ–∞–π–ª)
  - –í—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ —Ñ–∞–π–ª—ã: ‚úÖ ruff-compliant

**–ò—Ç–æ–≥–æ:**
- ‚úÖ 15 —Ä–æ—É—Ç–µ—Ä–æ–≤ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ 80+ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- ‚úÖ main.py: 4716 ‚Üí 780 —Å—Ç—Ä–æ–∫ (~84% reduction)
- ‚úÖ –ö–æ–¥ –ø—Ä–æ–≤–µ—Ä–µ–Ω –ª–∏–Ω—Ç–µ—Ä–æ–º (ruff)
- ‚úÖ –ò–º–ø–æ—Ä—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç

### –í —Ä–∞–±–æ—Ç–µ (–ß–∞—Å—Ç—å 3/3)
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –≤ Swagger UI (—á–∞—Å—Ç–∏—á–Ω–æ)
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ (coverage >80%) - –¥–ª—è –≤–µ—Ä—Å–∏–∏ 0.8.1

---

## [0.7.1] ‚Äî 2025-10-10

### –î–æ–±–∞–≤–ª–µ–Ω–æ
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞:
  - `docs/PROJECT_OVERVIEW.md` ‚Äî –ø–æ–¥—Ä–æ–±–Ω—ã–π –æ–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
  - `docs/ROADMAP.md` ‚Äî –¥–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞ —Ä–∞–∑–≤–∏—Ç–∏—è
  - `docs/CHANGELOG.md` ‚Äî —ç—Ç–æ—Ç —Ñ–∞–π–ª
- `env.example.txt` ‚Äî —à–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π `requirements.txt` —Å —Å–µ–∫—Ü–∏—è–º–∏ –∏ dev-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏:
  - `ruff>=0.1.9` ‚Äî –±—ã—Å—Ç—Ä—ã–π –ª–∏–Ω—Ç–µ—Ä
  - `black>=23.12.0` ‚Äî —Ñ–æ—Ä–º–∞—Ç—Ç–µ—Ä –∫–æ–¥–∞
  - `mypy>=1.8.0` ‚Äî —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
  - `pytest>=7.4`, `pytest-cov>=4.1` ‚Äî —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
  - `alembic>=1.12` ‚Äî –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
  - `joblib>=1.3` ‚Äî —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π
  - `pybit>=5.6` ‚Äî –Ω–∞—Ç–∏–≤–Ω—ã–π –∫–ª–∏–µ–Ω—Ç Bybit v5

### –ò–∑–º–µ–Ω–µ–Ω–æ
- –û–±—ä–µ–¥–∏–Ω–µ–Ω—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ `assistant.db` (–±—ã–ª–æ: `assistant.db` + `app.db`)
- –û–±–Ω–æ–≤–ª—ë–Ω `src/config.py`: –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ unified database
- –û–±–Ω–æ–≤–ª—ë–Ω `start_server.bat`: `DATABASE_URL=sqlite:///./assistant.db`
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ `requirements.txt` (–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é)

### –£–¥–∞–ª–µ–Ω–æ
- `src/hello_ai.py` ‚Äî —É—Å—Ç–∞—Ä–µ–≤—à–∏–π —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è env-–ª–æ–≥–∞

---

## [0.7.0] ‚Äî 2025-10-10

### –î–æ–±–∞–≤–ª–µ–Ω–æ
- **SLA –º–æ–¥–µ–ª–µ–π** (`src/model_policy.py`):
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –ø—Ä–∏ max_age_days > 7
  - –ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –ø—Ä–∏ ROC-AUC < 0.55
  - –ü–æ–ª–∏—Ç–∏–∫–∞ –ø—Ä–æ–º–æ—É—Ç–∞: promote_if_auc_gain ‚â• 0.005
- **Champion/Challenger –æ—Ç–±–æ—Ä** (`src/champion.py`):
  - OOS-–æ—Ü–µ–Ω–∫–∞ –Ω–∞ —Ä–æ–ª–ª–∏–Ω–≥–æ–≤–æ–º —Ö–≤–æ—Å—Ç–µ (tail_rows=1800)
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–º–æ—É—Ç –ø—Ä–∏ –ø—Ä–µ–≤–æ—Å—Ö–æ–¥—Å—Ç–≤–µ –ø–æ Sharpe/AUC
  - Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–æ–º–æ—É—Ç–µ (üèÜ PROMOTE)
- **–†–µ–µ—Å—Ç—Ä –∞–∫—Ç–∏–≤–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π** (`src/model_registry.py`):
  - –†—É—á–Ω–æ–π –≤—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ per pair/TF/horizon (`active_models.json`)
  - –ê–≤—Ç–æ–≤—ã–±–æ—Ä: –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ä—É—á–Ω–æ–π ‚Üí –ø–æ—Å–ª–µ–¥–Ω–∏–π –ø—Ä–æ–≥–æ–Ω ‚Üí fallback
  - –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã: `GET/POST /model/active`
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π watchlist** (`src/watchlist.py`):
  - CRUD —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã: `GET/POST /watchlist`, `/watchlist/add`, `/watchlist/remove`
  - Auto-discovery —Ç–æ–ø-–ª–∏–∫–≤–∏–¥–Ω—ã—Ö –ø–∞—Ä —á–µ—Ä–µ–∑ ccxt
  - –≠–Ω–¥–ø–æ–∏–Ω—Ç: `POST /watchlist/discover`
- **News Radar** ‚Äî –¥–µ—Ç–µ–∫—Ç–æ—Ä –≤—Å–ø–ª–µ—Å–∫–æ–≤ –Ω–æ–≤–æ—Å—Ç–µ–π:
  - –ê–Ω–∞–ª–∏–∑ —á–∞—Å—Ç–æ—Ç—ã –Ω–æ–≤–æ—Å—Ç–µ–π –≤ —Å–∫–æ–ª—å–∑—è—â–µ–º –æ–∫–Ω–µ
  - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ unique sources, sentiment, —Ç–µ–≥–∞–º
  - Cooldown –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Å–ø–∞–º–∞
- **Monitor** ‚Äî –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π:
  - Partial close –ø—Ä–∏ –ø—Ä–∏–±—ã–ª–∏ > partial_at (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é +3%)
  - Flat close –ø—Ä–∏ —É–±—ã—Ç–∫–µ < flat_after (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é -1%)
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `policy.json.monitor`
- **Trade Guard (Kill Switch)**:
  - –†–µ–∂–∏–º—ã: `live`, `close_only`, `locked`
  - –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã: `GET/POST /trade/guard`
  - –§–∞–π–ª: `artifacts/state/trade_guard.json`
- **Pydantic –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏** (`src/risk_schema.py`):
  - –°—Ç—Ä–æ–≥–∏–µ —Å—Ö–µ–º—ã –¥–ª—è Policy, Monitor, NewsRadar, VolThresh
  - –í–∞–ª–∏–¥–∞—Ü–∏—è bounds (dead < hot, partial_at > 0, etc.)
  - –ß–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º—ã–µ –æ—à–∏–±–∫–∏ —á–µ—Ä–µ–∑ `explain_validation_errors()`

### –ò–∑–º–µ–Ω–µ–Ω–æ
- **–û–±–Ω–æ–≤–ª—ë–Ω ML-–ø–∞–π–ø–ª–∞–π–Ω**:
  - Walk-forward CV —Å –ø–æ–¥–±–æ—Ä–æ–º –ø–æ—Ä–æ–≥–∞ –Ω–∞ inner_valid
  - Equity curve —É—Å–µ—á—ë–Ω–Ω–∞—è –¥–æ 400 —Ç–æ—á–µ–∫ (–¥–ª—è metrics.json)
  - –ú–µ—Ç—Ä–∏–∫–∏: accuracy, roc_auc, total_return, sharpe_like
- **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (APScheduler)**:
  - job_watchlist_discover ‚Äî –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤
  - job_models_maint ‚Äî –Ω–æ—á—å—é –≤ 03:20 UTC (—Å —É—á—ë—Ç–æ–º SLA)
  - job_signals_cycle ‚Äî –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç (—Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –∏ auto-trade)
- **–£–ª—É—á—à–µ–Ω—ã —Ñ–∏–ª—å—Ç—Ä—ã —Å–∏–≥–Ω–∞–ª–æ–≤** (`src/risk.py`):
  - –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å-–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è (dead/normal/hot)
  - –§–∏–ª—å—Ç—Ä—ã: min_rel_volume, max_bar_change, require_uptrend
  - –ú–µ—Ç—Ä–∏–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ SignalEvent.note
- **Paper trading** (`src/trade.py`):
  - Auto-sizing –æ—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ equity —Å —É—á—ë—Ç–æ–º –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
  - –õ–∏–º–∏—Ç—ã: max_open_positions, position_max_fraction
  - Atomic writes —á–µ—Ä–µ–∑ NamedTemporaryFile
- **Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** (`src/notify.py`):
  - –ù–æ–≤—ã–π ¬´—á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π¬ª —Ñ–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏–π
  - –°—Ç–∏–ª–∏: `simple` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) –∏ `raw` (–æ—Ç–ª–∞–¥–æ—á–Ω—ã–π)
  - –ë—ã—Å—Ç—Ä–∞—è –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è SELL –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏
  - –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å-—ç–º–æ–¥–∑–∏: üî• hot, üßä dead, „Ä∞Ô∏è normal
- **–ö–∞–Ω–æ–Ω–∏–∑–∞—Ü–∏—è URL** (`src/news_url.py`):
  - –£–±–∏—Ä–∞–µ—Ç utm_*, fbclid, gclid –∏ –¥—Ä. —Ç—Ä–µ–∫–µ—Ä—ã
  - –ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç —Ö–æ—Å—Ç (—É–±–∏—Ä–∞–µ—Ç www), path, query
  - –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π –ø–æ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–º—É URL

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- **–î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π** (`src/news.py`):
  - –ñ—ë—Å—Ç–∫–∞—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø–æ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–º—É URL
  - –ú—è–≥–∫–∞—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø–æ source + title –≤ –æ–∫–Ω–µ ¬±48h
  - –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥ published_at (feedparser + dateutil)
- **–§–∏—á–∏** (`src/features.py`):
  - RSI(14) –ø–æ –£–∞–π–ª–¥–µ—Ä—É —á–µ—Ä–µ–∑ EWM (alpha=1/14)
  - Bollinger Bands —Å ddof=0, min_periods=window
  - –ö–ª–∏–ø–ø–∏–Ω–≥ bb_width (–±–µ–∑ inf/-inf)
- **–ú–æ–¥–µ–ª–∏** (`src/modeling.py`):
  - –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å–∞–±—Å–µ—Ç —Ñ–∏—á–µ–π (—Ç–æ–ª—å–∫–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–ª–æ–Ω–∫–∏)
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ missing features
  - –ï–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç .pkl (–±—ã–ª–æ: .pkl –∏ .joblib)

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —á–µ—Ä–µ–∑ Pydantic
- Kill switch –¥–ª—è —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ç–æ—Ä–≥–æ–≤–ª–∏
- –õ–∏–º–∏—Ç—ã –ø–æ–∑–∏—Ü–∏–π –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –ø–µ—Ä–µ—Ç–æ—Ä–≥–æ–≤–ª–∏
- –ö–æ–º–∏—Å—Å–∏–∏ –∏ –ø—Ä–æ—Å–∫–∞–ª—å–∑—ã–≤–∞–Ω–∏–µ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –≤ —Å–∏–º—É–ª—è—Ç–æ—Ä–µ

---

## [0.6.0] ‚Äî 2025-10-07

### –î–æ–±–∞–≤–ª–µ–Ω–æ
- **Sentiment-–∞–Ω–∞–ª–∏–∑ –Ω–æ–≤–æ—Å—Ç–µ–π** (`src/analysis.py`):
  - –õ–µ–∫—Å–∏–∫–æ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (POS/NEG —Å–ª–æ–≤–∞—Ä–∏ –¥–ª—è RU/EN)
  - –ê–≤—Ç–æ—Ç–µ–≥–≥–∏–Ω–≥: btc, eth, etf, sec, hack, regulation, listing, adoption, bullish, bearish, halving
  - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞ (—ç–≤—Ä–∏—Å—Ç–∏–∫–∞ –ø–æ –¥–æ–ª–µ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã/–ª–∞—Ç–∏–Ω–∏—Ü—ã)
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π –≤ —Ñ–∏—á–∏** (`src/features.py`):
  - –ê–≥—Ä–µ–≥–∞—Ü–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π –ø–æ —Ç–∞–π–º—Ñ—Ä–µ–π–º—É —Å–≤–µ—á–∏
  - –†–æ–ª–ª–∏–Ω–≥–æ–≤—ã–µ –æ–∫–Ω–∞: news_cnt_6/24, sent_mean_6/24, tag_*_6/24
  - –í—Å–µ–≥–æ: 11 —Ç–µ–≥–æ–≤ √ó 2 –æ–∫–Ω–∞ = 22 –Ω–æ–≤–æ—Å—Ç–Ω—ã—Ö —Ñ–∏—á–∏
- **XGBoost –æ–±—É—á–µ–Ω–∏–µ** (`src/modeling.py`):
  - Threshold grid search [0.50..0.70] –ø–æ Sharpe ‚Üí total_return ‚Üí AUC
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –≤ `artifacts/metrics.json` –∏ `artifacts/features.json`
  - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—É—á–µ–Ω–∏–π –≤ —Ç–∞–±–ª–∏—Ü–µ `ModelRun`
- **–°–∏–≥–Ω–∞–ª—ã –∏ —Å–æ–±—ã—Ç–∏—è** (`src/main.py`):
  - –¢–∞–±–ª–∏—Ü–∞ `SignalEvent` (unique: exchange+symbol+tf+bar_dt)
  - –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã: `POST /signal/latest`, `GET /signals/recent`
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤ –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç (–ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫)

### –ò–∑–º–µ–Ω–µ–Ω–æ
- **–î–∞—Ç–∞—Å–µ—Ç** (`src/features.py`):
  - –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã: RSI(14), BB(20,2)
  - –†–∞—Å—à–∏—Ä–µ–Ω—ã —Ü–µ–Ω–æ–≤—ã–µ —Ñ–∏—á–∏: ret_1/3/6/12, vol_norm
  - –¶–µ–ª–µ–≤–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è: future_ret, y (–±–∏–Ω–∞—Ä–Ω–∞—è)

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ NaN/inf –≤ —Ñ–∏—á–∞—Ö (dropna, clip)
- –£–±—Ä–∞–Ω—ã —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ vaderSentiment, langdetect (–∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ –ª–µ–∫—Å–∏–∫–æ–Ω—ã)

---

## [0.5.0] ‚Äî 2025-10-05

### –î–æ–±–∞–≤–ª–µ–Ω–æ
- **RSS –Ω–æ–≤–æ—Å—Ç–∏** (`src/news.py`):
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è feedparser –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ RSS
  - –¢–∞–±–ª–∏—Ü—ã: Article, ArticleAnnotation
  - –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã: `POST /news/fetch`, `GET /news/latest`, `GET /news/search`
- **OHLCV –∑–∞–≥—Ä—É–∑–∫–∞** (`src/prices.py`):
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Binance –∏ Bybit —á–µ—Ä–µ–∑ REST API
  - –¢–∞–±–ª–∏—Ü–∞ Price (unique: exchange+symbol+timeframe+ts)
  - –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã: `POST /prices/fetch`, `GET /prices/latest`
- **APScheduler**:
  - –§–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏: —Å–±–æ—Ä –Ω–æ–≤–æ—Å—Ç–µ–π (5 –º–∏–Ω), —Ü–µ–Ω (15 –º–∏–Ω), –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –æ—Ç—á—ë—Ç (00:50 UTC)
  - –≠–Ω–¥–ø–æ–∏–Ω—Ç: `GET /automation/status`

### –ò–∑–º–µ–Ω–µ–Ω–æ
- **SQLAlchemy 2.0**:
  - –û–±–Ω–æ–≤–ª–µ–Ω—ã –º–æ–¥–µ–ª–∏ —Å UniqueConstraint –∏ Index
  - –î–æ–±–∞–≤–ª–µ–Ω—ã helper-—Ñ—É–Ω–∫—Ü–∏–∏: ensure_runtime_indexes()

---

## [0.4.0] ‚Äî 2025-09-30

### –î–æ–±–∞–≤–ª–µ–Ω–æ
- **FastAPI –±–∞–∑–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** (`src/main.py`):
  - –†–æ—É—Ç—ã: `/hello`, `/time`, `/ping`, `/_debug/info`
  - Swagger UI –Ω–∞ `/docs`
  - Offline-–¥–æ–∫–∏ —á–µ—Ä–µ–∑ fastapi_offline (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **SQLAlchemy ORM** (`src/db.py`):
  - –ú–æ–¥–µ–ª–∏: Message, Article, Price
  - SQLite –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (`assistant.db`)
- **Streamlit UI** (`streamlit_app.py`):
  - –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–∑–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π, —Ü–µ–Ω, –æ–±—É—á–µ–Ω–∏–µ)
  - –ì—Ä–∞—Ñ–∏–∫ —Ü–µ–Ω—ã (line chart)
  - –¢–∞–±–ª–∏—Ü—ã –Ω–æ–≤–æ—Å—Ç–µ–π –∏ –æ–±—É—á–µ–Ω–∏–π

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ: `.venv`
- –ë–∞—Ç–Ω–∏–∫ –∑–∞–ø—É—Å–∫–∞: `start_server.bat` (backend + UI)
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: `logs/app.log`, `logs/server.log`

---

## [0.3.0] ‚Äî 2025-09-28

### –î–æ–±–∞–≤–ª–µ–Ω–æ
- **Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**:
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∏: user.name, user.email, init.defaultBranch=main
  - –ü–µ—Ä–≤—ã–π –∫–æ–º–º–∏—Ç —Å –±–∞–∑–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** (`src/config.py`):
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —á–µ—Ä–µ–∑ dotenv (`.env`)
  - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: DATABASE_URL, LOG_DIR, ARTIFACTS_DIR, TELEGRAM_BOT_TOKEN, etc.

---

## [0.2.0] ‚Äî 2025-09-25

### –î–æ–±–∞–≤–ª–µ–Ω–æ
- **–ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞**:
  - –î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏: `src/`, `logs/`, `artifacts/`, `tests/`
  - –§–∞–π–ª—ã: `requirements.txt`, `.gitignore`, `README.md`, `JOURNAL.md`
- **Python –æ–∫—Ä—É–∂–µ–Ω–∏–µ**:
  - Python 3.11 (x64)
  - –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ `.venv`
  - –ë–∞–∑–æ–≤—ã–µ –ø–∞–∫–µ—Ç—ã: fastapi, uvicorn, pydantic, sqlalchemy, pandas, numpy

---

## [0.1.0] ‚Äî 2025-09-20

### –î–æ–±–∞–≤–ª–µ–Ω–æ
- **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞**:
  - –°–æ–∑–¥–∞–Ω –∫–∞—Ç–∞–ª–æ–≥ `C:\AI\myAssistent`
  - –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Git for Windows
  - –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ IDE (PyCharm/VS Code)

---

## –§–æ—Ä–º–∞—Ç Changelog

### –¢–∏–ø—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **–î–æ–±–∞–≤–ª–µ–Ω–æ** (Added) ‚Äî –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- **–ò–∑–º–µ–Ω–µ–Ω–æ** (Changed) ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- **–£—Å—Ç–∞—Ä–µ–ª–æ** (Deprecated) ‚Äî —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–∫–æ—Ä–æ –±—É–¥—É—Ç —É–¥–∞–ª–µ–Ω—ã
- **–£–¥–∞–ª–µ–Ω–æ** (Removed) ‚Äî —É–¥–∞–ª—ë–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ** (Fixed) ‚Äî –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** (Security) ‚Äî —É—è–∑–≤–∏–º–æ—Å—Ç–∏ –∏ –∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –°—Å—ã–ª–∫–∏ –Ω–∞ –≤–µ—Ä—Å–∏–∏
- [Unreleased]: https://github.com/yourusername/myAssistent/compare/v0.7.0...HEAD
- [0.7.0]: https://github.com/yourusername/myAssistent/compare/v0.6.0...v0.7.0
- [0.6.0]: https://github.com/yourusername/myAssistent/compare/v0.5.0...v0.6.0
- [0.5.0]: https://github.com/yourusername/myAssistent/compare/v0.4.0...v0.5.0
- [0.4.0]: https://github.com/yourusername/myAssistent/compare/v0.3.0...v0.4.0
- [0.3.0]: https://github.com/yourusername/myAssistent/compare/v0.2.0...v0.3.0
- [0.2.0]: https://github.com/yourusername/myAssistent/compare/v0.1.0...v0.2.0
- [0.1.0]: https://github.com/yourusername/myAssistent/releases/tag/v0.1.0

