# üê≥ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ Docker –¥–ª—è MyAssistant

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ß—Ç–æ —Ç–∞–∫–æ–µ Docker –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω](#—á—Ç–æ-—Ç–∞–∫–æ–µ-docker)
2. [–ü—Ä–æ–≤–µ—Ä–∫–∞ Docker Desktop](#–ø—Ä–æ–≤–µ—Ä–∫–∞-docker-desktop)
3. [–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å Docker Desktop](#–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å-docker-desktop)
4. [–ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã](#–∑–∞–ø—É—Å–∫-—Å–∏—Å—Ç–µ–º—ã)
5. [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏](#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏)
6. [–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–∏—Å–æ–≤](#–ø—Ä–æ–≤–µ—Ä–∫–∞-—Ä–∞–±–æ—Ç—ã)
7. [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](#—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)

---

## üéØ –ß—Ç–æ —Ç–∞–∫–æ–µ Docker –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω

**Docker** ‚Äî —ç—Ç–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö.

**–ß—Ç–æ –º—ã –∑–∞–ø—É—Å–∫–∞–µ–º –≤ Docker:**
- **PostgreSQL** ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞ (–º–æ—â–Ω–µ–µ SQLite)
- **MLflow** ‚Äî –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ ML (–ª–æ–≥–∏ –æ–±—É—á–µ–Ω–∏—è, –≤–µ—Ä—Å–∏–∏ –º–æ–¥–µ–ª–µ–π)
- **Prometheus** ‚Äî —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **Grafana** ‚Äî –∫—Ä–∞—Å–∏–≤—ã–µ –¥–∞—à–±–æ—Ä–¥—ã —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏
- **pgBouncer** ‚Äî connection pooling –¥–ª—è PostgreSQL (—É—Å–∫–æ—Ä—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã)

**–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ:**
- ‚úÖ PostgreSQL –±—ã—Å—Ç—Ä–µ–µ SQLite –≤ 10+ —Ä–∞–∑ (–¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö)
- ‚úÖ MLflow –ø–æ–º–æ–≥–∞–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –º–æ–¥–µ–ª–µ–π
- ‚úÖ Grafana –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –í—Å–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π
- ‚úÖ –ù–µ –∑–∞—Å–æ—Ä—è–µ—Ç Windows (–≤—Å–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–æ)

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ Docker Desktop

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ Docker Desktop

1. –ù–∞–∂–º–∏—Ç–µ **Win + S** (–ø–æ–∏—Å–∫)
2. –í–≤–µ–¥–∏—Ç–µ "Docker Desktop"
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

**–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 1-2 –º–∏–Ω—É—Ç—ã** (–∑–∞–≥—Ä—É–∑–∫–∞ WSL 2)

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å

–í **–ª–µ–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–µ–ª—ë–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä:
```
üü¢ Docker Desktop is running
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ:
- üî¥ **Docker Desktop stopped** ‚Üí –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **Start**
- ‚ö†Ô∏è **WSL 2 installation is incomplete** ‚Üí —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ WSL 2 (—Å–º. —Ä–∞–∑–¥–µ–ª "–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º")

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ

–û—Ç–∫—Ä–æ–π—Ç–µ PowerShell –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```powershell
docker --version
docker ps
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
Docker version 4.48.0, build 207573
CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É ‚Üí Docker Desktop –Ω–µ –∑–∞–ø—É—â–µ–Ω –∏–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω.

---

## üñ•Ô∏è –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å Docker Desktop

### –ì–ª–∞–≤–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã

1. **Containers** (–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã):
   - –°–ø–∏—Å–æ–∫ –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
   - –ö–Ω–æ–ø–∫–∏ Start/Stop/Restart
   - –õ–æ–≥–∏ –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

2. **Images** (–û–±—Ä–∞–∑—ã):
   - –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –æ–±—Ä–∞–∑—ã (postgres, mlflow, grafana –∏ –¥—Ä.)
   - –†–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–æ–≤
   - –ö–Ω–æ–ø–∫–∞ Pull (—Å–∫–∞—á–∞—Ç—å –Ω–æ–≤—ã–π –æ–±—Ä–∞–∑)

3. **Volumes** (–¢–æ–º–∞):
   - –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö
   - `postgres_data` ‚Äî –¥–∞–Ω–Ω—ã–µ PostgreSQL
   - `mlflow_artifacts` ‚Äî —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ MLflow
   - `prometheus_data`, `grafana_data`

4. **Settings** (–ù–∞—Å—Ç—Ä–æ–π–∫–∏):
   - Resources ‚Üí –≤—ã–¥–µ–ª–∏—Ç—å –±–æ–ª—å—à–µ RAM/CPU (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 4GB RAM)
   - Docker Engine ‚Üí –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ß—Ç–æ –Ω–∞–∂–∏–º–∞—Ç—å –≤ Docker Desktop

**–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ start_all.bat:**

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **Containers**
2. –ù–∞–π–¥–∏—Ç–µ –≥—Ä—É–ø–ø—É `myAssistent` (5 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å:
   - üü¢ **Running** ‚Üí –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
   - üî¥ **Exited** ‚Üí –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —É–ø–∞–ª (—Å–º. –ª–æ–≥–∏)
   - üü° **Starting** ‚Üí –∂–¥—ë—Ç –∑–∞–ø—É—Å–∫–∞

**–ß—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏:**
1. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, `myassistent_postgres`)
2. –û—Ç–∫—Ä–æ–µ—Ç—Å—è –≤–∫–ª–∞–¥–∫–∞ **Logs**
3. –ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏ (–∫—Ä–∞—Å–Ω—ã–º —Ü–≤–µ—Ç–æ–º)

**–ß—Ç–æ–±—ã –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:**
1. –ù–∞–≤–µ–¥–∏—Ç–µ –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
2. –°–ø—Ä–∞–≤–∞ –ø–æ—è–≤—è—Ç—Å—è –∫–Ω–æ–ø–∫–∏
3. –ù–∞–∂–º–∏—Ç–µ ‚ü≥ **Restart**

**–ß—Ç–æ–±—ã –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:**
1. –í PowerShell –≤—ã–ø–æ–ª–Ω–∏—Ç–µ: `docker-compose down`
2. –ò–ª–∏ –≤ Docker Desktop: –≤—ã–±–µ—Ä–∏—Ç–µ –≥—Ä—É–ø–ø—É ‚Üí **Stop**

---

## üöÄ –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–æ–ª–Ω—ã–π —Å—Ç–µ–∫ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–ó–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å—ë: Docker + Backend + Streamlit + Next.js**

1. **–û—Ç–∫—Ä–æ–π—Ç–µ PowerShell** –≤ `C:\AI\myAssistent`
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ:

```powershell
.\start_all.bat
```

**–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç:**

1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ Docker (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω)
2. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ Node.js (–¥–ª—è Next.js)
3. ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è Python (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
4. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
5. ‚úÖ –ó–∞–ø—É—Å–∫ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:
   - PostgreSQL (–ø–æ—Ä—Ç 5432)
   - pgBouncer (–ø–æ—Ä—Ç 6432)
   - MLflow (–ø–æ—Ä—Ç 5000)
   - Prometheus (–ø–æ—Ä—Ç 9090)
   - Grafana (–ø–æ—Ä—Ç 3001)
6. ‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ 15 —Å–µ–∫—É–Ω–¥ (–ø–æ–∫–∞ –ë–î –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è)
7. ‚úÖ –ó–∞–ø—É—Å–∫ Backend API (–ø–æ—Ä—Ç 8000)
8. ‚úÖ –ó–∞–ø—É—Å–∫ Streamlit UI (–ø–æ—Ä—Ç 8501)
9. ‚úÖ –ó–∞–ø—É—Å–∫ Next.js Frontend (–ø–æ—Ä—Ç 3000)
10. üåê –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞

**–û—Ç–∫—Ä–æ—é—Ç—Å—è –æ–∫–Ω–∞:**
- –ö–æ–Ω—Å–æ–ª—å `backend` (–Ω–µ –∑–∞–∫—Ä—ã–≤–∞—Ç—å!)
- –ö–æ–Ω—Å–æ–ª—å `streamlit-ui` (–Ω–µ –∑–∞–∫—Ä—ã–≤–∞—Ç—å!)
- –ö–æ–Ω—Å–æ–ª—å `nextjs-frontend` (–Ω–µ –∑–∞–∫—Ä—ã–≤–∞—Ç—å!)
- –ë—Ä–∞—É–∑–µ—Ä —Å 4 –≤–∫–ª–∞–¥–∫–∞–º–∏

### –í–∞—Ä–∏–∞–Ω—Ç 2: –¢–æ–ª—å–∫–æ Backend + Streamlit (–±—ã—Å—Ç—Ä—ã–π)

**–ë–µ–∑ Docker, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SQLite**

```powershell
.\start_server.bat
```

**–ü–ª—é—Å—ã:**
- –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ (5 —Å–µ–∫—É–Ω–¥)
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç Docker
- –•–≤–∞—Ç–∏—Ç –¥–ª—è –Ω–∞—á–∞–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤

**–ú–∏–Ω—É—Å—ã:**
- –ù–µ—Ç MLflow (–Ω–µ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã)
- –ù–µ—Ç Grafana (–Ω–µ—Ç –≥—Ä–∞—Ñ–∏–∫–æ–≤ –º–µ—Ç—Ä–∏–∫)
- SQLite –º–µ–¥–ª–µ–Ω–Ω–µ–µ PostgreSQL

---

## üéõÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã Docker Compose

```powershell
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose up -d

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ–ª—å–∫–æ PostgreSQL –∏ MLflow)
docker-compose up -d postgres pgbouncer mlflow

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose down

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å + —É–¥–∞–ª–∏—Ç—å volumes (‚ö†Ô∏è —É–¥–∞–ª—è—Ç—Å—è –≤—Å–µ –¥–∞–Ω–Ω—ã–µ!)
docker-compose down -v

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç—É—Å
docker-compose ps

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose logs

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker-compose logs postgres
docker-compose logs mlflow -f  # -f = follow (—Å–ª–µ–¥–∏—Ç—å –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏)

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose restart postgres

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose stop grafana

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose start grafana
```

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã Docker

```powershell
# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (–¥–∞–∂–µ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö)
docker ps -a

# –£–¥–∞–ª–∏—Ç—å –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker rm myassistent_postgres

# –°–ø–∏—Å–æ–∫ –æ–±—Ä–∞–∑–æ–≤
docker images

# –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –æ–±—Ä–∞–∑—ã
docker image prune

# –û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë (–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã, –æ–±—Ä–∞–∑—ã, volumes)
docker system prune -a --volumes  # ‚ö†Ô∏è –û—Å—Ç–æ—Ä–æ–∂–Ω–æ!

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats

# –ó–∞–π—Ç–∏ –≤–Ω—É—Ç—Ä—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
docker exec -it myassistent_postgres bash
# –í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:
psql -U myassistent -d myassistent
\dt  # —Å–ø–∏—Å–æ–∫ —Ç–∞–±–ª–∏—Ü
\q   # –≤—ã—Ö–æ–¥
exit
```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–∏—Å–æ–≤

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

```powershell
docker-compose ps
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

```
NAME                      STATUS    PORTS
myassistent_grafana       Up        0.0.0.0:3001->3000/tcp
myassistent_mlflow        Up        0.0.0.0:5000->5000/tcp
myassistent_pgbouncer     Up        0.0.0.0:6432->5432/tcp
myassistent_postgres      Up        0.0.0.0:5432->5432/tcp
myassistent_prometheus    Up        0.0.0.0:9090->9090/tcp
```

–í—Å–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Å—Ç–∞—Ç—É—Å–µ **Up** (–∑–µ–ª—ë–Ω—ã–º).

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ Backend API

–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä:

```
http://127.0.0.1:8000/docs
```

**–ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
- ‚úÖ Swagger UI —Å 80+ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- ‚úÖ –ì—Ä—É–ø–ø—ã: News, Prices, Models, Signals, Trade, Risk –∏ –¥—Ä.
- ‚úÖ –ó–µ–ª—ë–Ω–∞—è –Ω–∞–¥–ø–∏—Å—å "200 OK" –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ GET /ping

**–ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π –∑–∞–ø—Ä–æ—Å:**

1. –ù–∞–π–¥–∏—Ç–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç **GET /ping**
2. –ù–∞–∂–º–∏—Ç–µ **Try it out**
3. –ù–∞–∂–º–∏—Ç–µ **Execute**
4. –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è: `{"status":"ok","timestamp":"2025-10-11T..."}`

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ Streamlit UI

```
http://localhost:8501
```

**–ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
- ‚úÖ –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å –∫–Ω–æ–ø–∫–∞–º–∏
- ‚úÖ –ì—Ä–∞—Ñ–∏–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ)
- ‚úÖ –¢–∞–±–ª–∏—Ü—ã –Ω–æ–≤–æ—Å—Ç–µ–π –∏ —Å–∏–≥–Ω–∞–ª–æ–≤

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ Next.js Frontend

```
http://localhost:3000
```

**–ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
- ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚ö†Ô∏è –ú–æ–∂–µ—Ç –±—ã—Ç—å "In Development" (—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –µ—â—ë –∏–¥—ë—Ç)

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ MLflow

```
http://localhost:5000
```

**–ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
- ‚úÖ MLflow UI
- ‚úÖ –í–∫–ª–∞–¥–∫–∏: Experiments, Models, Compare
- ‚ö†Ô∏è –ü—É—Å—Ç–æ (—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã –ø–æ—è–≤—è—Ç—Å—è –ø–æ—Å–ª–µ –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π)

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ http://localhost:5000
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Experiments**
3. –ï—Å–ª–∏ –Ω–µ—Ç —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ ‚Üí –Ω–æ—Ä–º–∞–ª—å–Ω–æ (–æ–±—É—á–∏—Ç–µ –º–æ–¥–µ–ª—å —á–µ—Ä–µ–∑ API)

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ Prometheus

```
http://localhost:9090
```

**–ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
- ‚úÖ Prometheus UI
- ‚úÖ Status ‚Üí Targets ‚Üí `fastapi` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **UP**

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç—Ä–∏–∫:**
1. –í –ø–æ–ª–µ Query –≤–≤–µ–¥–∏—Ç–µ: `http_requests_total`
2. –ù–∞–∂–º–∏—Ç–µ **Execute**
3. –î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –º–µ—Ç—Ä–∏–∫–∏ (–µ—Å–ª–∏ –¥–µ–ª–∞–ª–∏ –∑–∞–ø—Ä–æ—Å—ã –∫ API)

### –®–∞–≥ 7: –ü—Ä–æ–≤–µ—Ä–∫–∞ Grafana

```
http://localhost:3001
```

**–õ–æ–≥–∏–Ω:**
- Username: `admin`
- Password: `admin`

**–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—Ö–æ–¥–µ:**
1. –ü–æ–ø—Ä–æ—Å–∏—Ç —Å–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å ‚Üí –º–æ–∂–µ—Ç–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å (Skip)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Dashboards**
3. –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–∞—à–±–æ—Ä–¥ **MyAssistant Overview**

**–ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–∞ –¥–∞—à–±–æ—Ä–¥–µ:**
- ‚úÖ –ì—Ä–∞—Ñ–∏–∫–∏: HTTP Requests, Response Time, Error Rate
- ‚úÖ Gauges: Uptime, Memory Usage
- ‚ö†Ô∏è –î–∞–Ω–Ω—ã–µ –ø–æ—è–≤—è—Ç—Å—è –ø–æ—Å–ª–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ API

---

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞ 1: Docker Desktop –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–û—à–∏–±–∫–∞:**
```
WSL 2 installation is incomplete
```

**–†–µ—à–µ–Ω–∏–µ:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ PowerShell **–æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞**
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ:

```powershell
wsl --install
wsl --set-default-version 2
```

3. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–º–ø—å—é—Ç–µ—Ä
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker Desktop

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–∞–¥–∞–µ—Ç —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞

**–ü—Ä–∏–º–µ—Ä: myassistent_postgres ‚Üí Exited (1)**

**–†–µ—à–µ–Ω–∏–µ:**

1. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏:

```powershell
docker logs myassistent_postgres
```

2. –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ `port is already allocated`:
   - –î—Ä—É–≥–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–Ω–∏–º–∞–µ—Ç –ø–æ—Ä—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥—Ä—É–≥–æ–π PostgreSQL)
   - –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –µ–≥–æ –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ `docker-compose.yml`

3. –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ `permission denied`:
   - Docker –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –ø—Ä–∞–≤
   - Settings ‚Üí Resources ‚Üí File Sharing ‚Üí –¥–æ–±–∞–≤—å—Ç–µ `C:\AI\myAssistent`

### –ü—Ä–æ–±–ª–µ–º–∞ 3: MLflow –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–û—à–∏–±–∫–∞ –≤ –ª–æ–≥–∞—Ö:**
```
ERROR: Could not connect to database
```

**–†–µ—à–µ–Ω–∏–µ:**

MLflow –∑–∞–≤–∏—Å–∏—Ç –æ—Ç PostgreSQL. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:

```powershell
docker-compose logs postgres
```

–ï—Å–ª–∏ PostgreSQL –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è ‚Üí —Å–º. –ü—Ä–æ–±–ª–µ–º—É 2.

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL –∏–∑ Backend

**–û—à–∏–±–∫–∞ –≤ Backend:**
```
sqlalchemy.exc.OperationalError: could not connect to server
```

**–†–µ—à–µ–Ω–∏–µ:**

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω:

```powershell
docker-compose ps postgres
```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ `.env`:

```env
DATABASE_URL=postgresql://myassistent:SecurePassword2025@localhost:5432/myassistent
```

3. –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ pgBouncer (–ø–æ—Ä—Ç 6432), —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –æ–Ω –∑–∞–ø—É—â–µ–Ω:

```powershell
docker-compose ps pgbouncer
```

### –ü—Ä–æ–±–ª–µ–º–∞ 5: Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–Ω–∏–º–∞—é—Ç –º–Ω–æ–≥–æ –º–µ—Å—Ç–∞

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**

```powershell
docker system df
```

**–û—á–∏—Å—Ç–∫–∞:**

```powershell
# –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker container prune

# –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –æ–±—Ä–∞–∑—ã
docker image prune -a

# –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ volumes (‚ö†Ô∏è —É–¥–∞–ª–∏—Ç –¥–∞–Ω–Ω—ã–µ!)
docker volume prune
```

### –ü—Ä–æ–±–ª–µ–º–∞ 6: start_all.bat –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç Docker

**–û—à–∏–±–∫–∞:**
```
[!] Docker –Ω–µ –Ω–∞–π–¥–µ–Ω!
```

**–†–µ—à–µ–Ω–∏–µ:**

1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Docker Desktop –∑–∞–ø—É—â–µ–Ω
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ PowerShell
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ PATH:

```powershell
$env:Path -split ';' | Select-String docker
```

–î–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—É—Ç—å: `C:\Program Files\Docker\Docker\resources\bin`

### –ü—Ä–æ–±–ª–µ–º–∞ 7: "Cannot connect to Docker daemon"

**–†–µ—à–µ–Ω–∏–µ:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ Docker Desktop
2. –î–æ–∂–¥–∏—Ç–µ—Å—å –ø–æ–ª–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ (–∑–µ–ª—ë–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä)
3. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É

---

## üìä –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Docker Desktop

### –†–µ—Å—É—Ä—Å—ã (Settings ‚Üí Resources)

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è MyAssistant:**

- **CPUs:** 4 (–º–∏–Ω–∏–º—É–º 2)
- **Memory:** 6 GB (–º–∏–Ω–∏–º—É–º 4 GB)
- **Swap:** 2 GB
- **Disk image size:** 60 GB

**–ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å:**

1. Docker Desktop ‚Üí ‚öôÔ∏è Settings
2. Resources ‚Üí Advanced
3. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ –ø–æ–ª–∑—É–Ω–∫–∏
4. –ù–∞–∂–º–∏—Ç–µ **Apply & Restart**

### –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã Docker –∑–∞–ø—É—Å–∫–∞–ª—Å—è –≤–º–µ—Å—Ç–µ —Å Windows:

1. Settings ‚Üí General
2. ‚úÖ **Start Docker Desktop when you log in**
3. ‚úÖ **Use WSL 2 based engine**

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞

### 1. –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ

```bash
# –í Swagger UI (http://127.0.0.1:8000/docs)

POST /prices/fetch
{
  "exchange": "bybit",
  "symbol": "BTC/USDT",
  "timeframe": "1h",
  "limit": 4320  # 6 –º–µ—Å—è—Ü–µ–≤ –¥–ª—è 1h
}
```

### 2. –û–±—É—á–∏—Ç—å –º–æ–¥–µ–ª—å

```bash
POST /model/train
{
  "exchange": "bybit",
  "symbol": "BTC/USDT",
  "timeframe": "1h"
}
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ MLflow

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5000
2. –î–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç
3. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –º–µ—Ç—Ä–∏–∫–∏: accuracy, AUC, Sharpe

### 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±—ç–∫—Ç–µ—Å—Ç

```bash
POST /backtest/run
{
  "exchange": "bybit",
  "symbol": "BTC/USDT",
  "timeframe": "1h",
  "start_date": "2024-04-01",
  "end_date": "2025-10-11",
  "initial_capital": 1000
}
```

### 5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞—à–±–æ—Ä–¥ Grafana

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3001
2. Login: admin / admin
3. Dashboards ‚Üí MyAssistant Overview
4. –î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –º–µ—Ç—Ä–∏–∫–∏

---

## üìñ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Docker Desktop Documentation](https://docs.docker.com/desktop/)
- [Docker Compose Reference](https://docs.docker.com/compose/)
- [PostgreSQL Docker Hub](https://hub.docker.com/_/postgres)
- [MLflow Documentation](https://mlflow.org/docs/latest/index.html)
- [Grafana Getting Started](https://grafana.com/docs/grafana/latest/getting-started/)

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-10-11  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é ‚úÖ

