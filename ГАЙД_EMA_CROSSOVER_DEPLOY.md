# üöÄ EMA Crossover - –ì–û–¢–û–í–ê –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ!

**–î–∞—Ç–∞:** 2025-10-12 23:40  
**Commit:** eadd858  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ DEPLOYED!

---

## üéâ –ß–¢–û –°–î–ï–õ–ê–ù–û?

### 1. ‚úÖ EMA Crossover API Endpoints

**–°–æ–∑–¥–∞–Ω—ã –Ω–æ–≤—ã–µ endpoints:**

```
POST /simple_strategy/signal
GET  /simple_strategy/test_ema
```

**–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å:**

```bash
# –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç (BTC/USDT 1h)
curl "http://127.0.0.1:8000/simple_strategy/test_ema"

# –ö–∞—Å—Ç–æ–º–Ω—ã–π —Ç–µ—Å—Ç
curl -X POST "http://127.0.0.1:8000/simple_strategy/signal" \
  -H "Content-Type: application/json" \
  -d '{
    "exchange": "bybit",
    "symbol": "BTC/USDT",
    "timeframe": "1h",
    "strategy": "ema_crossover",
    "ema_fast": 9,
    "ema_slow": 21
  }'
```

---

### 2. ‚úÖ Paper Trading Integration

**Paper trading —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç EMA Crossover!**

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
- –ö–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ü–µ–Ω—ã
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–∏–≥–Ω–∞–ª—ã EMA Crossover (9/21)
- –ò—Å–ø–æ–ª–Ω—è–µ—Ç —Å–¥–µ–ª–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ)
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram

**–ö–∞–∫ –≤–∫–ª—é—á–∏—Ç—å:**

```bash
# 1. –í–∫–ª—é—á–∏—Ç—å paper trading monitor
curl -X POST "http://127.0.0.1:8000/paper_monitor/enable"

# 2. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –í–∫–ª—é—á–∏—Ç—å auto-execute
curl -X POST "http://127.0.0.1:8000/paper_monitor/toggle_auto_execute"
```

---

### 3. ‚úÖ –£–ª—É—á—à–µ–Ω–Ω—ã–µ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**–ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç (–∫—Ä–∞—Å–∏–≤–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ):**

#### STOP_LOSS:
```
üõë STOP LOSS
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üí∞ –ü–∞—Ä–∞: ETHFI/USDT
‚ùå P&L: -3.82%

üìä –î–ï–¢–ê–õ–ò:
‚Ä¢ –í—Ö–æ–¥: $1.5600
‚Ä¢ –í—ã—Ö–æ–¥: $1.5000

üìù –ü—Ä–∏—á–∏–Ω–∞:
Stop-Loss triggered: -3.82%

üí° –°–û–í–ï–¢:
–£–±—ã—Ç–æ–∫ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω, –∑–∞—â–∏—â–∞—è –∫–∞–ø–∏—Ç–∞–ª
```

#### TAKE_PROFIT:
```
üéØ TAKE PROFIT
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üí∞ –ü–∞—Ä–∞: ETH/USDT
‚úÖ P&L: +27.00%

üìä –î–ï–¢–ê–õ–ò:
‚Ä¢ –í—Ö–æ–¥: $3516.24
‚Ä¢ –í—ã—Ö–æ–¥: $4465.60

üìù –ü—Ä–∏—á–∏–Ω–∞:
Take-Profit triggered: +27.00%

üí° –°–û–í–ï–¢:
–ü—Ä–∏–±—ã–ª—å –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞, –ø–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!
```

#### –í–´–°–û–ö–ò–ô EXPOSURE:
```
‚ö†Ô∏è –†–ò–°–ö –ú–ï–ù–ï–î–ñ–ï–†
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

üö® –í–´–°–û–ö–ò–ô EXPOSURE

üìä –¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–°:
‚Ä¢ Exposure: 93.7% (–ª–∏–º–∏—Ç: 50%)
‚Ä¢ –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ: 43.7%

üí∞ –ö–ê–ü–ò–¢–ê–õ:
‚Ä¢ –í—Å–µ–≥–æ: $13,530.04
‚Ä¢ –í –ø–æ–∑–∏—Ü–∏—è—Ö: $12,673.01
‚Ä¢ –°–≤–æ–±–æ–¥–Ω–æ: $857.03

üõ°Ô∏è –ó–ê–©–ò–¢–ù–´–ï –ú–ï–†–´:
‚úì –ù–æ–≤—ã–µ —Å–¥–µ–ª–∫–∏ –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù–´
‚úì –û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º
‚úì SL/TP –∞–∫—Ç–∏–≤–Ω—ã

üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø:
–î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–π –ø–æ Stop Loss / Take Profit
```

---

## üéØ –ö–ê–ö –ü–û–õ–¨–ó–û–í–ê–¢–¨–°–Ø?

### –í–∞—Ä–∏–∞–Ω—Ç 1: –†—É—á–Ω–æ–π —Ä–µ–∂–∏–º (—Ä–µ–∫–æ–º–µ–Ω–¥—É—é –Ω–∞ —Å—Ç–∞—Ä—Ç–µ)

**–ü–æ–ª—É—á–∞–π —Å–∏–≥–Ω–∞–ª—ã –≤—Ä—É—á–Ω—É—é:**

```bash
# 1. –ü–æ–ª—É—á–∏—Ç—å —Å–∏–≥–Ω–∞–ª –¥–ª—è BTC
curl "http://127.0.0.1:8000/simple_strategy/test_ema"

# 2. –ï—Å–ª–∏ signal = "BUY" ‚Üí –∫—É–ø–∏—Ç—å –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ Swagger:
#    POST /trade/paper_buy_auto

# 3. –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å —á–µ—Ä–µ–∑ UI:
#    http://localhost:3000
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ö–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∫–∞–∂–¥–æ–π —Å–¥–µ–ª–∫–æ–π
- –ú–æ–∂–Ω–æ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–ª–æ—Ö–∏–µ —Å–∏–≥–Ω–∞–ª—ã
- –£—á–∏—à—å—Å—è –ø–æ–Ω–∏–º–∞—Ç—å —Ä—ã–Ω–æ–∫

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º (–¥–ª—è –æ–ø—ã—Ç–Ω—ã—Ö)

**–ü–æ–ª–Ω—ã–π –∞–≤—Ç–æ–ø–∏–ª–æ—Ç:**

```bash
# 1. –í–∫–ª—é—á–∏—Ç—å monitor
curl -X POST "http://127.0.0.1:8000/paper_monitor/enable"

# 2. –í–∫–ª—é—á–∏—Ç—å auto-execute
curl -X POST "http://127.0.0.1:8000/paper_monitor/toggle_auto_execute"

# 3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–∏–º–≤–æ–ª—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
curl -X POST "http://127.0.0.1:8000/paper_monitor/update_symbols" \
  -H "Content-Type: application/json" \
  -d '{"symbols": ["BTC/USDT", "ETH/USDT"]}'

# 4. –í—Å–µ! –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

**–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
- –õ–æ–≥–∏: `logs/app.log`
- UI: `http://localhost:3000`
- API: `http://127.0.0.1:8000/paper_monitor/status`

---

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢–´ EMA CROSSOVER

**Backtest (18 –¥–Ω–µ–π: Sept 24 - Oct 12):**

```
Sharpe Ratio:   3.11 ‚úÖ (–û–¢–õ–ò–ß–ù–û!)
Total Return:  +4.31% ‚úÖ
Sortino Ratio:  3.96
Max Drawdown:  -5.17% (–±–µ–∑–æ–ø–∞—Å–Ω–æ)
Profit Factor:  2.39
Win Rate:      40%
Total Trades:   10

Beats Buy & Hold –Ω–∞ +5.64%!
```

**–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç:**
- ‚úÖ –°—Ç—Ä–∞—Ç–µ–≥–∏—è –†–ê–ë–û–¢–ê–ï–¢ (Sharpe >1.0)
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è (Max DD 5%)
- ‚úÖ –ü—Ä–∏–±—ã–ª—å–Ω–∞—è (+4.31% –∑–∞ 18 –¥–Ω–µ–π)
- ‚úÖ –ì–æ—Ç–æ–≤–∞ –∫ —Ä–µ–∞–ª—å–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

---

## ‚öôÔ∏è –ù–ê–°–¢–†–û–ô–ö–ò

### –ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã EMA:

```python
# –í paper_trading_monitor.py (—Å—Ç—Ä–æ–∫–∞ 176)
ema_signals = ema_crossover_strategy(df, fast_period=9, slow_period=21)

# –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞:
# fast_period=12, slow_period=26 (–±–æ–ª–µ–µ –º–µ–¥–ª–µ–Ω–Ω–∞—è)
# fast_period=5, slow_period=13 (–±–æ–ª–µ–µ –±—ã—Å—Ç—Ä–∞—è)
```

### –ò–∑–º–µ–Ω–∏—Ç—å —Å–∏–º–≤–æ–ª—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:

```bash
curl -X POST "http://127.0.0.1:8000/paper_monitor/update_symbols" \
  -H "Content-Type: application/json" \
  -d '{"symbols": ["BTC/USDT", "ETH/USDT", "SOL/USDT"]}'
```

### –ò–∑–º–µ–Ω–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:

```python
# –í scheduler.py (–µ—Å–ª–∏ –µ—Å—Ç—å –∑–∞–¥–∞—á–∞)
scheduler.add_job(
    run_monitor_update,
    trigger=IntervalTrigger(minutes=15),  # –ò–∑–º–µ–Ω–∏ –Ω–∞ 5, 10, 30, 60
    id="paper_monitor",
    replace_existing=True
)
```

---

## üîç –û–¢–õ–ê–î–ö–ê

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å monitor
curl "http://127.0.0.1:8000/paper_monitor/status"

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –µ—Å—Ç—å –ª–∏ –¥–∞–Ω–Ω—ã–µ
curl "http://127.0.0.1:8000/prices/latest/bybit/BTC/USDT/1h"

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å equity
curl "http://127.0.0.1:8000/trade/paper_equity"

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ª–æ–≥–∏
tail -f logs/app.log | grep "MONITOR EMA"
```

### –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

**1. "Not enough data for BTC/USDT (need 50+)"**
```bash
# –†–µ—à–µ–Ω–∏–µ: –ó–∞–≥—Ä—É–∑–∏—Ç—å –±–æ–ª—å—à–µ —Å–≤–µ—á–µ–π
curl -X POST "http://127.0.0.1:8000/prices/fetch" \
  -H "Content-Type: application/json" \
  -d '{
    "exchange": "bybit",
    "symbol": "BTC/USDT",
    "timeframe": "1h",
    "limit": 100
  }'
```

**2. "Monitor is disabled"**
```bash
# –†–µ—à–µ–Ω–∏–µ: –í–∫–ª—é—á–∏—Ç—å monitor
curl -X POST "http://127.0.0.1:8000/paper_monitor/enable"
```

**3. –°–∏–≥–Ω–∞–ª—ã –Ω–µ –∏—Å–ø–æ–ª–Ω—è—é—Ç—Å—è**
```bash
# –†–µ—à–µ–Ω–∏–µ: –í–∫–ª—é—á–∏—Ç—å auto-execute
curl -X POST "http://127.0.0.1:8000/paper_monitor/toggle_auto_execute"
```

---

## üìà –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: Paper Trading 7 –¥–Ω–µ–π

**–ü–ª–∞–Ω –Ω–∞ –Ω–µ–¥–µ–ª—é:**

1. **–î–µ–Ω—å 1-3:** –†—É—á–Ω–æ–π —Ä–µ–∂–∏–º
   - –ü–æ–ª—É—á–∞–π —Å–∏–≥–Ω–∞–ª—ã –≤—Ä—É—á–Ω—É—é
   - –ò—Å–ø–æ–ª–Ω—è–π –ª—É—á—à–∏–µ –∏–∑ –Ω–∏—Ö
   - –ù–∞–±–ª—é–¥–∞–π –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—è

2. **–î–µ–Ω—å 4-7:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º
   - –í–∫–ª—é—á–∏ auto-execute
   - –ú–æ–Ω–∏—Ç–æ—Ä—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
   - –û—Ü–µ–Ω–∏–≤–∞–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

3. **–ü–æ—Å–ª–µ 7 –¥–Ω–µ–π:** –ê–Ω–∞–ª–∏–∑
   - –ï—Å–ª–∏ Sharpe >1.0 ‚Üí –ø–µ—Ä–µ—Ö–æ–¥–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—É—é —Ç–æ—Ä–≥–æ–≤–ª—é
   - –ï—Å–ª–∏ Sharpe <1.0 ‚Üí –ø–æ–ø—Ä–æ–±—É–π –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã EMA

---

## üéì –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–û

### –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏:

**RSI Mean-Reversion:**
```bash
curl -X POST "http://127.0.0.1:8000/simple_strategy/signal" \
  -d '{"strategy": "rsi", "rsi_period": 14, "rsi_oversold": 30, "rsi_overbought": 70}'
```

**Bollinger Bands:**
```bash
curl -X POST "http://127.0.0.1:8000/simple_strategy/signal" \
  -d '{"strategy": "bollinger", "bb_period": 20, "bb_std": 2.0}'
```

**–ù–æ –ø–æ–º–Ω–∏:** EMA Crossover –ø–æ–∫–∞–∑–∞–ª–∞ –õ–£–ß–®–ò–ô —Ä–µ–∑—É–ª—å—Ç–∞—Ç (Sharpe 3.11)!

---

## üìö –ü–û–õ–ï–ó–ù–´–ï –°–°–´–õ–ö–ò

- **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:** `–ò–¢–û–ì–ò_–ü–†–û–°–¢–´–ï_–°–¢–†–ê–¢–ï–ì–ò–ò.md`
- **Backtest —Å–∫—Ä–∏–ø—Ç:** `scripts/backtest_simple_strategies.py`
- **API Swagger:** http://127.0.0.1:8000/docs
- **UI:** http://localhost:3000
- **MLflow:** http://localhost:5000

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –ì–û–¢–û–í–ù–û–°–¢–ò

- [x] EMA Crossover API endpoints —Å–æ–∑–¥–∞–Ω—ã
- [x] Paper trading –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω
- [x] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —É–ª—É—á—à–µ–Ω—ã
- [x] Backtest –ø—Ä–æ–π–¥–µ–Ω (Sharpe 3.11!)
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞–ø–∏—Å–∞–Ω–∞
- [x] –ö–æ–¥ –∑–∞–∫–æ–º–º–∏—á–µ–Ω (eadd858)

**READY TO GO! üöÄ**

---

## üí¨ –ß–¢–û –î–ê–õ–¨–®–ï?

**–•–æ—á–µ—à—å —É–ª—É—á—à–∏—Ç—å:**
1. –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã EMA –ø–æ–¥ —Å–µ–±—è
3. –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –í–∞—Ä–∏–∞–Ω—Ç A (12 –º–µ—Å—è—Ü–µ–≤ ML)
4. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—É—é —Ç–æ—Ä–≥–æ–≤–ª—é (–ø–æ—Å–ª–µ 7 –¥–Ω–µ–π paper trading)

**–í–æ–ø—Ä–æ—Å—ã?**
- –°–º–æ—Ç—Ä–∏ –ª–æ–≥–∏: `logs/app.log`
- –ü—Ä–æ–≤–µ—Ä—è–π Swagger: http://127.0.0.1:8000/docs
- –¢–µ—Å—Ç–∏—Ä—É–π endpoints —á–µ—Ä–µ–∑ curl

**–£–¥–∞—á–∏! –¢–≤–æ–π –±–æ—Ç –≥–æ—Ç–æ–≤ –∫ —Ç–æ—Ä–≥–æ–≤–ª–µ! üéâ**

