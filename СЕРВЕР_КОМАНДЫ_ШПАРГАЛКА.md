# üîß –®–ø–∞—Ä–≥–∞–ª–∫–∞ –ö–æ–º–∞–Ω–¥ –¥–ª—è –°–µ—Ä–≤–µ—Ä–∞ Ubuntu

## üîå –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
```bash
ssh root@185.73.215.38
# –ü–∞—Ä–æ–ª—å: GK7gz9yGq15T
cd /root/myAssistent
```

---

## ü©∫ –ë–´–°–¢–†–ê–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ü–†–û–ë–õ–ï–ú–´

### 1Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ DATABASE_URL (–ì–õ–ê–í–ù–û–ï!)
```bash
grep DATABASE_URL /root/myAssistent/.env
```
**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:** 
```
DATABASE_URL=postgresql://myassistent:b7d5e83c415946c5232e5d130f532555cc73d6b1aa69e1429e2a79f5179b265a@localhost:5432/myassistent
```

### 2Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ PostgreSQL
```bash
docker exec myassistent_postgres psql -U myassistent -d myassistent -c "SELECT COUNT(*) FROM price WHERE symbol = 'BTC/USDT';"
```

### 3Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –Ω–∞ –æ—à–∏–±–∫–∏
```bash
journalctl -u myassistent --no-pager -n 50 | grep -i "error\|traceback"
```

---

## üî• –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´ (–µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è)

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å .env
```bash
cd /root/myAssistent

# –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–π DATABASE_URL
echo "–¢–µ–∫—É—â–∏–π DATABASE_URL:"
grep DATABASE_URL .env

# –ò–°–ü–†–ê–í–ò–¢–¨ (–µ—Å–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π):
sed -i 's|DATABASE_URL=.*|DATABASE_URL=postgresql://myassistent:b7d5e83c415946c5232e5d130f532555cc73d6b1aa69e1429e2a79f5179b265a@localhost:5432/myassistent|' .env

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
echo "–ù–æ–≤—ã–π DATABASE_URL:"
grep DATABASE_URL .env

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
sudo systemctl restart myassistent
sleep 5
systemctl status myassistent --no-pager
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –£–¥–∞–ª–∏—Ç—å SQLite —Ñ–∞–π–ª—ã (–µ—Å–ª–∏ –æ–Ω–∏ –º–µ—à–∞—é—Ç)
```bash
cd /root/myAssistent

# –ù–∞–π—Ç–∏ SQLite —Ñ–∞–π–ª—ã
find . -name "*.db" -type f

# –£–¥–∞–ª–∏—Ç—å –∏—Ö
rm -f assistant.db app.db

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
sudo systemctl restart myassistent
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
```bash
cd /root/myAssistent

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ
sudo systemctl stop myassistent
docker-compose down

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
docker-compose up -d
sleep 10
sudo systemctl restart myassistent

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
systemctl status myassistent --no-pager
```

---

## ‚úÖ –ü–†–û–í–ï–†–ö–ê –ü–û–°–õ–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### –¢–µ—Å—Ç 1: –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
```bash
curl -X POST "http://localhost:8000/prices/fetch" \
  -H "X-API-Key: 5fa613c18a92d0d69d3bf5a5f7d72396cd5cca41ed0bc1d058db499107ba6f73" \
  -H "Content-Type: application/json" \
  -d '{"exchange":"bybit","symbol":"BTC/USDT","timeframe":"1h","limit":100}'
```

### –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ë–î (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å >= 100)
```bash
docker exec myassistent_postgres psql -U myassistent -d myassistent -c "SELECT COUNT(*) FROM price WHERE symbol = 'BTC/USDT' AND timeframe = '1h';"
```

### –¢–µ—Å—Ç 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å /health
```bash
curl -H "X-API-Key: 5fa613c18a92d0d69d3bf5a5f7d72396cd5cca41ed0bc1d058db499107ba6f73" http://localhost:8000/health | python3 -m json.tool
```

---

## üöÄ –ó–ê–ü–£–°–ö PAPER TRADING (–ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

### –®–∞–≥ 1: –ó–∞–≥—Ä—É–∑–∏—Ç—å –±–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö
```bash
curl -X POST "http://localhost:8000/prices/fetch" \
  -H "X-API-Key: 5fa613c18a92d0d69d3bf5a5f7d72396cd5cca41ed0bc1d058db499107ba6f73" \
  -H "Content-Type: application/json" \
  -d '{"exchange":"bybit","symbol":"BTC/USDT","timeframe":"1h","limit":500}'
```

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å Paper Monitor
```bash
curl -X POST "http://localhost:8000/paper-monitor/start" \
  -H "X-API-Key: 5fa613c18a92d0d69d3bf5a5f7d72396cd5cca41ed0bc1d058db499107ba6f73" \
  -H "Content-Type: application/json" \
  -d '{
    "symbols": ["BTC/USDT"],
    "auto_execute": false,
    "update_interval_minutes": 15
  }'
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
```bash
curl -H "X-API-Key: 5fa613c18a92d0d69d3bf5a5f7d72396cd5cca41ed0bc1d058db499107ba6f73" \
  http://localhost:8000/paper-monitor/status | python3 -m json.tool
```

---

## üìä –ú–û–ù–ò–¢–û–†–ò–ù–ì

### –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
```bash
journalctl -u myassistent -f
```

### –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤
```bash
journalctl -u myassistent --no-pager -n 100
```

### –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫
```bash
journalctl -u myassistent --no-pager -n 200 | grep -i "error\|exception\|traceback"
```

### –°—Ç–∞—Ç—É—Å Docker
```bash
docker ps
docker logs myassistent_postgres --tail 50
```

---

## üîÑ –ö–û–ú–ê–ù–î–´ –ü–ï–†–ï–ó–ê–ü–£–°–ö–ê

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
```bash
sudo systemctl restart myassistent
systemctl status myassistent --no-pager
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Docker
```bash
cd /root/myAssistent
docker-compose restart
sleep 10
docker ps
```

### –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
```bash
cd /root/myAssistent
sudo systemctl stop myassistent
docker-compose down
docker-compose up -d
sleep 10
sudo systemctl start myassistent
systemctl status myassistent --no-pager
```

---

## üÜò –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê

### –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –ø–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å:
```bash
cd /root/myAssistent

# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ
sudo systemctl stop myassistent
docker-compose down -v

# 2. –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ
rm -f assistant.db app.db

# 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å .env
grep DATABASE_URL .env

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ
docker-compose up -d
sleep 15

# 5. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
source .venv/bin/activate
alembic upgrade head
deactivate

# 6. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å
sudo systemctl start myassistent
sleep 5

# 7. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
systemctl status myassistent --no-pager

# 8. –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
curl -X POST "http://localhost:8000/prices/fetch" -H "X-API-Key: 5fa613c18a92d0d69d3bf5a5f7d72396cd5cca41ed0bc1d058db499107ba6f73" -H "Content-Type: application/json" -d '{"exchange":"bybit","symbol":"BTC/USDT","timeframe":"1h","limit":500}'

# 9. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ë–î
docker exec myassistent_postgres psql -U myassistent -d myassistent -c "SELECT COUNT(*) FROM price;"
```

---

## üìù –í–ê–ñ–ù–´–ï –§–ê–ô–õ–´

- `.env` - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (DATABASE_URL –∑–¥–µ—Å—å!)
- `logs/app.log` - –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `alembic.ini` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–∏–≥—Ä–∞—Ü–∏–π –ë–î
- `docker-compose.yml` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –ü—Ä–æ–≤–µ—Ä–∫–∏

1. [ ] `systemctl status myassistent` ‚Üí `active (running)`
2. [ ] `docker ps` ‚Üí 4 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∑–∞–ø—É—â–µ–Ω—ã
3. [ ] `grep DATABASE_URL .env` ‚Üí PostgreSQL URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
4. [ ] –ù–µ—Ç —Ñ–∞–π–ª–æ–≤ `*.db` –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞
5. [ ] –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ PostgreSQL
6. [ ] `/health` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `"status":"ok"`
7. [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö

### –ï—Å–ª–∏ –≤—Å–µ ‚úÖ - –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å Paper Trading!

---

**IP:** 185.73.215.38  
**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:** root  
**–ü–∞—Ä–æ–ª—å:** GK7gz9yGq15T  
**–ü—É—Ç—å:** /root/myAssistent  
**API Key:** 5fa613c18a92d0d69d3bf5a5f7d72396cd5cca41ed0bc1d058db499107ba6f73

